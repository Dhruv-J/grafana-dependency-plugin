"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_mermaid_dist_svgDraw-70101091_js"],{

/***/ "../node_modules/mermaid/dist/svgDraw-70101091.js":
/*!********************************************************!*\
  !*** ../node_modules/mermaid/dist/svgDraw-70101091.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   p: () => (/* binding */ parseMember),\n/* harmony export */   s: () => (/* binding */ svgDraw)\n/* harmony export */ });\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ \"d3\");\n/* harmony import */ var _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mermaid-768dc893.js */ \"../node_modules/mermaid/dist/mermaid-768dc893.js\");\n\n\nlet edgeCount = 0;\nconst drawEdge = function(elem, path, relation, conf, diagObj) {\n  const getRelationType = function(type) {\n    switch (type) {\n      case diagObj.db.relationType.AGGREGATION:\n        return \"aggregation\";\n      case diagObj.db.relationType.EXTENSION:\n        return \"extension\";\n      case diagObj.db.relationType.COMPOSITION:\n        return \"composition\";\n      case diagObj.db.relationType.DEPENDENCY:\n        return \"dependency\";\n      case diagObj.db.relationType.LOLLIPOP:\n        return \"lollipop\";\n    }\n  };\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\n  const lineData = path.points;\n  const lineFunction = (0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function(d) {\n    return d.x;\n  }).y(function(d) {\n    return d.y;\n  }).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis);\n  const svgPath = elem.append(\"path\").attr(\"d\", lineFunction(lineData)).attr(\"id\", \"edge\" + edgeCount).attr(\"class\", \"relation\");\n  let url = \"\";\n  if (conf.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\");\n    url = url.replace(/\\)/g, \"\\\\)\");\n  }\n  if (relation.relation.lineType == 1) {\n    svgPath.attr(\"class\", \"relation dashed-line\");\n  }\n  if (relation.relation.lineType == 10) {\n    svgPath.attr(\"class\", \"relation dotted-line\");\n  }\n  if (relation.relation.type1 !== \"none\") {\n    svgPath.attr(\n      \"marker-start\",\n      \"url(\" + url + \"#\" + getRelationType(relation.relation.type1) + \"Start)\"\n    );\n  }\n  if (relation.relation.type2 !== \"none\") {\n    svgPath.attr(\n      \"marker-end\",\n      \"url(\" + url + \"#\" + getRelationType(relation.relation.type2) + \"End)\"\n    );\n  }\n  let x, y;\n  const l = path.points.length;\n  let labelPosition = _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.u.calcLabelPosition(path.points);\n  x = labelPosition.x;\n  y = labelPosition.y;\n  let p1_card_x, p1_card_y;\n  let p2_card_x, p2_card_y;\n  if (l % 2 !== 0 && l > 1) {\n    let cardinality_1_point = _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.u.calcCardinalityPosition(\n      relation.relation.type1 !== \"none\",\n      path.points,\n      path.points[0]\n    );\n    let cardinality_2_point = _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.u.calcCardinalityPosition(\n      relation.relation.type2 !== \"none\",\n      path.points,\n      path.points[l - 1]\n    );\n    _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.l.debug(\"cardinality_1_point \" + JSON.stringify(cardinality_1_point));\n    _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.l.debug(\"cardinality_2_point \" + JSON.stringify(cardinality_2_point));\n    p1_card_x = cardinality_1_point.x;\n    p1_card_y = cardinality_1_point.y;\n    p2_card_x = cardinality_2_point.x;\n    p2_card_y = cardinality_2_point.y;\n  }\n  if (relation.title !== void 0) {\n    const g = elem.append(\"g\").attr(\"class\", \"classLabel\");\n    const label = g.append(\"text\").attr(\"class\", \"label\").attr(\"x\", x).attr(\"y\", y).attr(\"fill\", \"red\").attr(\"text-anchor\", \"middle\").text(relation.title);\n    window.label = label;\n    const bounds = label.node().getBBox();\n    g.insert(\"rect\", \":first-child\").attr(\"class\", \"box\").attr(\"x\", bounds.x - conf.padding / 2).attr(\"y\", bounds.y - conf.padding / 2).attr(\"width\", bounds.width + conf.padding).attr(\"height\", bounds.height + conf.padding);\n  }\n  _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.l.info(\"Rendering relation \" + JSON.stringify(relation));\n  if (relation.relationTitle1 !== void 0 && relation.relationTitle1 !== \"none\") {\n    const g = elem.append(\"g\").attr(\"class\", \"cardinality\");\n    g.append(\"text\").attr(\"class\", \"type1\").attr(\"x\", p1_card_x).attr(\"y\", p1_card_y).attr(\"fill\", \"black\").attr(\"font-size\", \"6\").text(relation.relationTitle1);\n  }\n  if (relation.relationTitle2 !== void 0 && relation.relationTitle2 !== \"none\") {\n    const g = elem.append(\"g\").attr(\"class\", \"cardinality\");\n    g.append(\"text\").attr(\"class\", \"type2\").attr(\"x\", p2_card_x).attr(\"y\", p2_card_y).attr(\"fill\", \"black\").attr(\"font-size\", \"6\").text(relation.relationTitle2);\n  }\n  edgeCount++;\n};\nconst drawClass = function(elem, classDef, conf, diagObj) {\n  _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.l.debug(\"Rendering class \", classDef, conf);\n  const id = classDef.id;\n  const classInfo = {\n    id,\n    label: classDef.id,\n    width: 0,\n    height: 0\n  };\n  const g = elem.append(\"g\").attr(\"id\", diagObj.db.lookUpDomId(id)).attr(\"class\", \"classGroup\");\n  let title;\n  if (classDef.link) {\n    title = g.append(\"svg:a\").attr(\"xlink:href\", classDef.link).attr(\"target\", classDef.linkTarget).append(\"text\").attr(\"y\", conf.textHeight + conf.padding).attr(\"x\", 0);\n  } else {\n    title = g.append(\"text\").attr(\"y\", conf.textHeight + conf.padding).attr(\"x\", 0);\n  }\n  let isFirst = true;\n  classDef.annotations.forEach(function(member) {\n    const titleText2 = title.append(\"tspan\").text(\"«\" + member + \"»\");\n    if (!isFirst) {\n      titleText2.attr(\"dy\", conf.textHeight);\n    }\n    isFirst = false;\n  });\n  let classTitleString = getClassTitleString(classDef);\n  const classTitle = title.append(\"tspan\").text(classTitleString).attr(\"class\", \"title\");\n  if (!isFirst) {\n    classTitle.attr(\"dy\", conf.textHeight);\n  }\n  const titleHeight = title.node().getBBox().height;\n  const membersLine = g.append(\"line\").attr(\"x1\", 0).attr(\"y1\", conf.padding + titleHeight + conf.dividerMargin / 2).attr(\"y2\", conf.padding + titleHeight + conf.dividerMargin / 2);\n  const members = g.append(\"text\").attr(\"x\", conf.padding).attr(\"y\", titleHeight + conf.dividerMargin + conf.textHeight).attr(\"fill\", \"white\").attr(\"class\", \"classText\");\n  isFirst = true;\n  classDef.members.forEach(function(member) {\n    addTspan(members, member, isFirst, conf);\n    isFirst = false;\n  });\n  const membersBox = members.node().getBBox();\n  const methodsLine = g.append(\"line\").attr(\"x1\", 0).attr(\"y1\", conf.padding + titleHeight + conf.dividerMargin + membersBox.height).attr(\"y2\", conf.padding + titleHeight + conf.dividerMargin + membersBox.height);\n  const methods = g.append(\"text\").attr(\"x\", conf.padding).attr(\"y\", titleHeight + 2 * conf.dividerMargin + membersBox.height + conf.textHeight).attr(\"fill\", \"white\").attr(\"class\", \"classText\");\n  isFirst = true;\n  classDef.methods.forEach(function(method) {\n    addTspan(methods, method, isFirst, conf);\n    isFirst = false;\n  });\n  const classBox = g.node().getBBox();\n  var cssClassStr = \" \";\n  if (classDef.cssClasses.length > 0) {\n    cssClassStr = cssClassStr + classDef.cssClasses.join(\" \");\n  }\n  const rect = g.insert(\"rect\", \":first-child\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", classBox.width + 2 * conf.padding).attr(\"height\", classBox.height + conf.padding + 0.5 * conf.dividerMargin).attr(\"class\", cssClassStr);\n  const rectWidth = rect.node().getBBox().width;\n  title.node().childNodes.forEach(function(x) {\n    x.setAttribute(\"x\", (rectWidth - x.getBBox().width) / 2);\n  });\n  if (classDef.tooltip) {\n    title.insert(\"title\").text(classDef.tooltip);\n  }\n  membersLine.attr(\"x2\", rectWidth);\n  methodsLine.attr(\"x2\", rectWidth);\n  classInfo.width = rectWidth;\n  classInfo.height = classBox.height + conf.padding + 0.5 * conf.dividerMargin;\n  return classInfo;\n};\nconst getClassTitleString = function(classDef) {\n  let classTitleString = classDef.id;\n  if (classDef.type) {\n    classTitleString += \"<\" + classDef.type + \">\";\n  }\n  return classTitleString;\n};\nconst drawNote = function(elem, note, conf, diagObj) {\n  _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.l.debug(\"Rendering note \", note, conf);\n  const id = note.id;\n  const noteInfo = {\n    id,\n    text: note.text,\n    width: 0,\n    height: 0\n  };\n  const g = elem.append(\"g\").attr(\"id\", id).attr(\"class\", \"classGroup\");\n  let text = g.append(\"text\").attr(\"y\", conf.textHeight + conf.padding).attr(\"x\", 0);\n  const lines = JSON.parse(`\"${note.text}\"`).split(\"\\n\");\n  lines.forEach(function(line2) {\n    _mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.l.debug(`Adding line: ${line2}`);\n    text.append(\"tspan\").text(line2).attr(\"class\", \"title\").attr(\"dy\", conf.textHeight);\n  });\n  const noteBox = g.node().getBBox();\n  const rect = g.insert(\"rect\", \":first-child\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", noteBox.width + 2 * conf.padding).attr(\n    \"height\",\n    noteBox.height + lines.length * conf.textHeight + conf.padding + 0.5 * conf.dividerMargin\n  );\n  const rectWidth = rect.node().getBBox().width;\n  text.node().childNodes.forEach(function(x) {\n    x.setAttribute(\"x\", (rectWidth - x.getBBox().width) / 2);\n  });\n  noteInfo.width = rectWidth;\n  noteInfo.height = noteBox.height + lines.length * conf.textHeight + conf.padding + 0.5 * conf.dividerMargin;\n  return noteInfo;\n};\nconst parseMember = function(text) {\n  let displayText = \"\";\n  let cssStyle = \"\";\n  let returnType = \"\";\n  let visibility = \"\";\n  let firstChar = text.substring(0, 1);\n  let lastChar = text.substring(text.length - 1, text.length);\n  if (firstChar.match(/[#+~-]/)) {\n    visibility = firstChar;\n  }\n  let noClassifierRe = /[\\s\\w)~]/;\n  if (!lastChar.match(noClassifierRe)) {\n    cssStyle = parseClassifier(lastChar);\n  }\n  const startIndex = visibility === \"\" ? 0 : 1;\n  let endIndex = cssStyle === \"\" ? text.length : text.length - 1;\n  text = text.substring(startIndex, endIndex);\n  const methodStart = text.indexOf(\"(\");\n  const methodEnd = text.indexOf(\")\");\n  const isMethod = methodStart > 1 && methodEnd > methodStart && methodEnd <= text.length;\n  if (isMethod) {\n    let methodName = text.substring(0, methodStart).trim();\n    const parameters = text.substring(methodStart + 1, methodEnd);\n    displayText = visibility + methodName + \"(\" + (0,_mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.x)(parameters.trim()) + \")\";\n    if (methodEnd < text.length) {\n      let potentialClassifier = text.substring(methodEnd + 1, methodEnd + 2);\n      if (cssStyle === \"\" && !potentialClassifier.match(noClassifierRe)) {\n        cssStyle = parseClassifier(potentialClassifier);\n        returnType = text.substring(methodEnd + 2).trim();\n      } else {\n        returnType = text.substring(methodEnd + 1).trim();\n      }\n      if (returnType !== \"\") {\n        if (returnType.charAt(0) === \":\") {\n          returnType = returnType.substring(1).trim();\n        }\n        returnType = \" : \" + (0,_mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.x)(returnType);\n        displayText += returnType;\n      }\n    }\n  } else {\n    displayText = visibility + (0,_mermaid_768dc893_js__WEBPACK_IMPORTED_MODULE_1__.x)(text);\n  }\n  return {\n    displayText,\n    cssStyle\n  };\n};\nconst addTspan = function(textEl, txt, isFirst, conf) {\n  let member = parseMember(txt);\n  const tSpan = textEl.append(\"tspan\").attr(\"x\", conf.padding).text(member.displayText);\n  if (member.cssStyle !== \"\") {\n    tSpan.attr(\"style\", member.cssStyle);\n  }\n  if (!isFirst) {\n    tSpan.attr(\"dy\", conf.textHeight);\n  }\n};\nconst parseClassifier = function(classifier) {\n  switch (classifier) {\n    case \"*\":\n      return \"font-style:italic;\";\n    case \"$\":\n      return \"text-decoration:underline;\";\n    default:\n      return \"\";\n  }\n};\nconst svgDraw = {\n  getClassTitleString,\n  drawClass,\n  drawEdge,\n  drawNote,\n  parseMember\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9zdmdEcmF3LTcwMTAxMDkxLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0M7QUFDK0M7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdDQUFJO0FBQzNCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRyxRQUFRLDBDQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtREFBSztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1EQUFLO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1EQUFLO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtREFBRztBQUNQLElBQUksbURBQUc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLG1EQUFHO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsbURBQUc7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLG1EQUFHO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFVBQVU7QUFDekM7QUFDQSxJQUFJLG1EQUFHLHVCQUF1QixNQUFNO0FBQ3BDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVEQUFpQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1REFBaUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLCtCQUErQix1REFBaUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3Qvc3ZnRHJhdy03MDEwMTA5MS5qcz9hZjE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxpbmUsIGN1cnZlQmFzaXMgfSBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IHUgYXMgdXRpbHMsIGwgYXMgbG9nLCB4IGFzIHBhcnNlR2VuZXJpY1R5cGVzIH0gZnJvbSBcIi4vbWVybWFpZC03NjhkYzg5My5qc1wiO1xubGV0IGVkZ2VDb3VudCA9IDA7XG5jb25zdCBkcmF3RWRnZSA9IGZ1bmN0aW9uKGVsZW0sIHBhdGgsIHJlbGF0aW9uLCBjb25mLCBkaWFnT2JqKSB7XG4gIGNvbnN0IGdldFJlbGF0aW9uVHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgZGlhZ09iai5kYi5yZWxhdGlvblR5cGUuQUdHUkVHQVRJT046XG4gICAgICAgIHJldHVybiBcImFnZ3JlZ2F0aW9uXCI7XG4gICAgICBjYXNlIGRpYWdPYmouZGIucmVsYXRpb25UeXBlLkVYVEVOU0lPTjpcbiAgICAgICAgcmV0dXJuIFwiZXh0ZW5zaW9uXCI7XG4gICAgICBjYXNlIGRpYWdPYmouZGIucmVsYXRpb25UeXBlLkNPTVBPU0lUSU9OOlxuICAgICAgICByZXR1cm4gXCJjb21wb3NpdGlvblwiO1xuICAgICAgY2FzZSBkaWFnT2JqLmRiLnJlbGF0aW9uVHlwZS5ERVBFTkRFTkNZOlxuICAgICAgICByZXR1cm4gXCJkZXBlbmRlbmN5XCI7XG4gICAgICBjYXNlIGRpYWdPYmouZGIucmVsYXRpb25UeXBlLkxPTExJUE9QOlxuICAgICAgICByZXR1cm4gXCJsb2xsaXBvcFwiO1xuICAgIH1cbiAgfTtcbiAgcGF0aC5wb2ludHMgPSBwYXRoLnBvaW50cy5maWx0ZXIoKHApID0+ICFOdW1iZXIuaXNOYU4ocC55KSk7XG4gIGNvbnN0IGxpbmVEYXRhID0gcGF0aC5wb2ludHM7XG4gIGNvbnN0IGxpbmVGdW5jdGlvbiA9IGxpbmUoKS54KGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gZC54O1xuICB9KS55KGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gZC55O1xuICB9KS5jdXJ2ZShjdXJ2ZUJhc2lzKTtcbiAgY29uc3Qgc3ZnUGF0aCA9IGVsZW0uYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiZFwiLCBsaW5lRnVuY3Rpb24obGluZURhdGEpKS5hdHRyKFwiaWRcIiwgXCJlZGdlXCIgKyBlZGdlQ291bnQpLmF0dHIoXCJjbGFzc1wiLCBcInJlbGF0aW9uXCIpO1xuICBsZXQgdXJsID0gXCJcIjtcbiAgaWYgKGNvbmYuYXJyb3dNYXJrZXJBYnNvbHV0ZSkge1xuICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFwoL2csIFwiXFxcXChcIik7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoL1xcKS9nLCBcIlxcXFwpXCIpO1xuICB9XG4gIGlmIChyZWxhdGlvbi5yZWxhdGlvbi5saW5lVHlwZSA9PSAxKSB7XG4gICAgc3ZnUGF0aC5hdHRyKFwiY2xhc3NcIiwgXCJyZWxhdGlvbiBkYXNoZWQtbGluZVwiKTtcbiAgfVxuICBpZiAocmVsYXRpb24ucmVsYXRpb24ubGluZVR5cGUgPT0gMTApIHtcbiAgICBzdmdQYXRoLmF0dHIoXCJjbGFzc1wiLCBcInJlbGF0aW9uIGRvdHRlZC1saW5lXCIpO1xuICB9XG4gIGlmIChyZWxhdGlvbi5yZWxhdGlvbi50eXBlMSAhPT0gXCJub25lXCIpIHtcbiAgICBzdmdQYXRoLmF0dHIoXG4gICAgICBcIm1hcmtlci1zdGFydFwiLFxuICAgICAgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGdldFJlbGF0aW9uVHlwZShyZWxhdGlvbi5yZWxhdGlvbi50eXBlMSkgKyBcIlN0YXJ0KVwiXG4gICAgKTtcbiAgfVxuICBpZiAocmVsYXRpb24ucmVsYXRpb24udHlwZTIgIT09IFwibm9uZVwiKSB7XG4gICAgc3ZnUGF0aC5hdHRyKFxuICAgICAgXCJtYXJrZXItZW5kXCIsXG4gICAgICBcInVybChcIiArIHVybCArIFwiI1wiICsgZ2V0UmVsYXRpb25UeXBlKHJlbGF0aW9uLnJlbGF0aW9uLnR5cGUyKSArIFwiRW5kKVwiXG4gICAgKTtcbiAgfVxuICBsZXQgeCwgeTtcbiAgY29uc3QgbCA9IHBhdGgucG9pbnRzLmxlbmd0aDtcbiAgbGV0IGxhYmVsUG9zaXRpb24gPSB1dGlscy5jYWxjTGFiZWxQb3NpdGlvbihwYXRoLnBvaW50cyk7XG4gIHggPSBsYWJlbFBvc2l0aW9uLng7XG4gIHkgPSBsYWJlbFBvc2l0aW9uLnk7XG4gIGxldCBwMV9jYXJkX3gsIHAxX2NhcmRfeTtcbiAgbGV0IHAyX2NhcmRfeCwgcDJfY2FyZF95O1xuICBpZiAobCAlIDIgIT09IDAgJiYgbCA+IDEpIHtcbiAgICBsZXQgY2FyZGluYWxpdHlfMV9wb2ludCA9IHV0aWxzLmNhbGNDYXJkaW5hbGl0eVBvc2l0aW9uKFxuICAgICAgcmVsYXRpb24ucmVsYXRpb24udHlwZTEgIT09IFwibm9uZVwiLFxuICAgICAgcGF0aC5wb2ludHMsXG4gICAgICBwYXRoLnBvaW50c1swXVxuICAgICk7XG4gICAgbGV0IGNhcmRpbmFsaXR5XzJfcG9pbnQgPSB1dGlscy5jYWxjQ2FyZGluYWxpdHlQb3NpdGlvbihcbiAgICAgIHJlbGF0aW9uLnJlbGF0aW9uLnR5cGUyICE9PSBcIm5vbmVcIixcbiAgICAgIHBhdGgucG9pbnRzLFxuICAgICAgcGF0aC5wb2ludHNbbCAtIDFdXG4gICAgKTtcbiAgICBsb2cuZGVidWcoXCJjYXJkaW5hbGl0eV8xX3BvaW50IFwiICsgSlNPTi5zdHJpbmdpZnkoY2FyZGluYWxpdHlfMV9wb2ludCkpO1xuICAgIGxvZy5kZWJ1ZyhcImNhcmRpbmFsaXR5XzJfcG9pbnQgXCIgKyBKU09OLnN0cmluZ2lmeShjYXJkaW5hbGl0eV8yX3BvaW50KSk7XG4gICAgcDFfY2FyZF94ID0gY2FyZGluYWxpdHlfMV9wb2ludC54O1xuICAgIHAxX2NhcmRfeSA9IGNhcmRpbmFsaXR5XzFfcG9pbnQueTtcbiAgICBwMl9jYXJkX3ggPSBjYXJkaW5hbGl0eV8yX3BvaW50Lng7XG4gICAgcDJfY2FyZF95ID0gY2FyZGluYWxpdHlfMl9wb2ludC55O1xuICB9XG4gIGlmIChyZWxhdGlvbi50aXRsZSAhPT0gdm9pZCAwKSB7XG4gICAgY29uc3QgZyA9IGVsZW0uYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJjbGFzc0xhYmVsXCIpO1xuICAgIGNvbnN0IGxhYmVsID0gZy5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpLmF0dHIoXCJ4XCIsIHgpLmF0dHIoXCJ5XCIsIHkpLmF0dHIoXCJmaWxsXCIsIFwicmVkXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKS50ZXh0KHJlbGF0aW9uLnRpdGxlKTtcbiAgICB3aW5kb3cubGFiZWwgPSBsYWJlbDtcbiAgICBjb25zdCBib3VuZHMgPSBsYWJlbC5ub2RlKCkuZ2V0QkJveCgpO1xuICAgIGcuaW5zZXJ0KFwicmVjdFwiLCBcIjpmaXJzdC1jaGlsZFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJib3hcIikuYXR0cihcInhcIiwgYm91bmRzLnggLSBjb25mLnBhZGRpbmcgLyAyKS5hdHRyKFwieVwiLCBib3VuZHMueSAtIGNvbmYucGFkZGluZyAvIDIpLmF0dHIoXCJ3aWR0aFwiLCBib3VuZHMud2lkdGggKyBjb25mLnBhZGRpbmcpLmF0dHIoXCJoZWlnaHRcIiwgYm91bmRzLmhlaWdodCArIGNvbmYucGFkZGluZyk7XG4gIH1cbiAgbG9nLmluZm8oXCJSZW5kZXJpbmcgcmVsYXRpb24gXCIgKyBKU09OLnN0cmluZ2lmeShyZWxhdGlvbikpO1xuICBpZiAocmVsYXRpb24ucmVsYXRpb25UaXRsZTEgIT09IHZvaWQgMCAmJiByZWxhdGlvbi5yZWxhdGlvblRpdGxlMSAhPT0gXCJub25lXCIpIHtcbiAgICBjb25zdCBnID0gZWxlbS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNhcmRpbmFsaXR5XCIpO1xuICAgIGcuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJ0eXBlMVwiKS5hdHRyKFwieFwiLCBwMV9jYXJkX3gpLmF0dHIoXCJ5XCIsIHAxX2NhcmRfeSkuYXR0cihcImZpbGxcIiwgXCJibGFja1wiKS5hdHRyKFwiZm9udC1zaXplXCIsIFwiNlwiKS50ZXh0KHJlbGF0aW9uLnJlbGF0aW9uVGl0bGUxKTtcbiAgfVxuICBpZiAocmVsYXRpb24ucmVsYXRpb25UaXRsZTIgIT09IHZvaWQgMCAmJiByZWxhdGlvbi5yZWxhdGlvblRpdGxlMiAhPT0gXCJub25lXCIpIHtcbiAgICBjb25zdCBnID0gZWxlbS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNhcmRpbmFsaXR5XCIpO1xuICAgIGcuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJ0eXBlMlwiKS5hdHRyKFwieFwiLCBwMl9jYXJkX3gpLmF0dHIoXCJ5XCIsIHAyX2NhcmRfeSkuYXR0cihcImZpbGxcIiwgXCJibGFja1wiKS5hdHRyKFwiZm9udC1zaXplXCIsIFwiNlwiKS50ZXh0KHJlbGF0aW9uLnJlbGF0aW9uVGl0bGUyKTtcbiAgfVxuICBlZGdlQ291bnQrKztcbn07XG5jb25zdCBkcmF3Q2xhc3MgPSBmdW5jdGlvbihlbGVtLCBjbGFzc0RlZiwgY29uZiwgZGlhZ09iaikge1xuICBsb2cuZGVidWcoXCJSZW5kZXJpbmcgY2xhc3MgXCIsIGNsYXNzRGVmLCBjb25mKTtcbiAgY29uc3QgaWQgPSBjbGFzc0RlZi5pZDtcbiAgY29uc3QgY2xhc3NJbmZvID0ge1xuICAgIGlkLFxuICAgIGxhYmVsOiBjbGFzc0RlZi5pZCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfTtcbiAgY29uc3QgZyA9IGVsZW0uYXBwZW5kKFwiZ1wiKS5hdHRyKFwiaWRcIiwgZGlhZ09iai5kYi5sb29rVXBEb21JZChpZCkpLmF0dHIoXCJjbGFzc1wiLCBcImNsYXNzR3JvdXBcIik7XG4gIGxldCB0aXRsZTtcbiAgaWYgKGNsYXNzRGVmLmxpbmspIHtcbiAgICB0aXRsZSA9IGcuYXBwZW5kKFwic3ZnOmFcIikuYXR0cihcInhsaW5rOmhyZWZcIiwgY2xhc3NEZWYubGluaykuYXR0cihcInRhcmdldFwiLCBjbGFzc0RlZi5saW5rVGFyZ2V0KS5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJ5XCIsIGNvbmYudGV4dEhlaWdodCArIGNvbmYucGFkZGluZykuYXR0cihcInhcIiwgMCk7XG4gIH0gZWxzZSB7XG4gICAgdGl0bGUgPSBnLmFwcGVuZChcInRleHRcIikuYXR0cihcInlcIiwgY29uZi50ZXh0SGVpZ2h0ICsgY29uZi5wYWRkaW5nKS5hdHRyKFwieFwiLCAwKTtcbiAgfVxuICBsZXQgaXNGaXJzdCA9IHRydWU7XG4gIGNsYXNzRGVmLmFubm90YXRpb25zLmZvckVhY2goZnVuY3Rpb24obWVtYmVyKSB7XG4gICAgY29uc3QgdGl0bGVUZXh0MiA9IHRpdGxlLmFwcGVuZChcInRzcGFuXCIpLnRleHQoXCLCq1wiICsgbWVtYmVyICsgXCLCu1wiKTtcbiAgICBpZiAoIWlzRmlyc3QpIHtcbiAgICAgIHRpdGxlVGV4dDIuYXR0cihcImR5XCIsIGNvbmYudGV4dEhlaWdodCk7XG4gICAgfVxuICAgIGlzRmlyc3QgPSBmYWxzZTtcbiAgfSk7XG4gIGxldCBjbGFzc1RpdGxlU3RyaW5nID0gZ2V0Q2xhc3NUaXRsZVN0cmluZyhjbGFzc0RlZik7XG4gIGNvbnN0IGNsYXNzVGl0bGUgPSB0aXRsZS5hcHBlbmQoXCJ0c3BhblwiKS50ZXh0KGNsYXNzVGl0bGVTdHJpbmcpLmF0dHIoXCJjbGFzc1wiLCBcInRpdGxlXCIpO1xuICBpZiAoIWlzRmlyc3QpIHtcbiAgICBjbGFzc1RpdGxlLmF0dHIoXCJkeVwiLCBjb25mLnRleHRIZWlnaHQpO1xuICB9XG4gIGNvbnN0IHRpdGxlSGVpZ2h0ID0gdGl0bGUubm9kZSgpLmdldEJCb3goKS5oZWlnaHQ7XG4gIGNvbnN0IG1lbWJlcnNMaW5lID0gZy5hcHBlbmQoXCJsaW5lXCIpLmF0dHIoXCJ4MVwiLCAwKS5hdHRyKFwieTFcIiwgY29uZi5wYWRkaW5nICsgdGl0bGVIZWlnaHQgKyBjb25mLmRpdmlkZXJNYXJnaW4gLyAyKS5hdHRyKFwieTJcIiwgY29uZi5wYWRkaW5nICsgdGl0bGVIZWlnaHQgKyBjb25mLmRpdmlkZXJNYXJnaW4gLyAyKTtcbiAgY29uc3QgbWVtYmVycyA9IGcuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwieFwiLCBjb25mLnBhZGRpbmcpLmF0dHIoXCJ5XCIsIHRpdGxlSGVpZ2h0ICsgY29uZi5kaXZpZGVyTWFyZ2luICsgY29uZi50ZXh0SGVpZ2h0KS5hdHRyKFwiZmlsbFwiLCBcIndoaXRlXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNsYXNzVGV4dFwiKTtcbiAgaXNGaXJzdCA9IHRydWU7XG4gIGNsYXNzRGVmLm1lbWJlcnMuZm9yRWFjaChmdW5jdGlvbihtZW1iZXIpIHtcbiAgICBhZGRUc3BhbihtZW1iZXJzLCBtZW1iZXIsIGlzRmlyc3QsIGNvbmYpO1xuICAgIGlzRmlyc3QgPSBmYWxzZTtcbiAgfSk7XG4gIGNvbnN0IG1lbWJlcnNCb3ggPSBtZW1iZXJzLm5vZGUoKS5nZXRCQm94KCk7XG4gIGNvbnN0IG1ldGhvZHNMaW5lID0gZy5hcHBlbmQoXCJsaW5lXCIpLmF0dHIoXCJ4MVwiLCAwKS5hdHRyKFwieTFcIiwgY29uZi5wYWRkaW5nICsgdGl0bGVIZWlnaHQgKyBjb25mLmRpdmlkZXJNYXJnaW4gKyBtZW1iZXJzQm94LmhlaWdodCkuYXR0cihcInkyXCIsIGNvbmYucGFkZGluZyArIHRpdGxlSGVpZ2h0ICsgY29uZi5kaXZpZGVyTWFyZ2luICsgbWVtYmVyc0JveC5oZWlnaHQpO1xuICBjb25zdCBtZXRob2RzID0gZy5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJ4XCIsIGNvbmYucGFkZGluZykuYXR0cihcInlcIiwgdGl0bGVIZWlnaHQgKyAyICogY29uZi5kaXZpZGVyTWFyZ2luICsgbWVtYmVyc0JveC5oZWlnaHQgKyBjb25mLnRleHRIZWlnaHQpLmF0dHIoXCJmaWxsXCIsIFwid2hpdGVcIikuYXR0cihcImNsYXNzXCIsIFwiY2xhc3NUZXh0XCIpO1xuICBpc0ZpcnN0ID0gdHJ1ZTtcbiAgY2xhc3NEZWYubWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIGFkZFRzcGFuKG1ldGhvZHMsIG1ldGhvZCwgaXNGaXJzdCwgY29uZik7XG4gICAgaXNGaXJzdCA9IGZhbHNlO1xuICB9KTtcbiAgY29uc3QgY2xhc3NCb3ggPSBnLm5vZGUoKS5nZXRCQm94KCk7XG4gIHZhciBjc3NDbGFzc1N0ciA9IFwiIFwiO1xuICBpZiAoY2xhc3NEZWYuY3NzQ2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgY3NzQ2xhc3NTdHIgPSBjc3NDbGFzc1N0ciArIGNsYXNzRGVmLmNzc0NsYXNzZXMuam9pbihcIiBcIik7XG4gIH1cbiAgY29uc3QgcmVjdCA9IGcuaW5zZXJ0KFwicmVjdFwiLCBcIjpmaXJzdC1jaGlsZFwiKS5hdHRyKFwieFwiLCAwKS5hdHRyKFwieVwiLCAwKS5hdHRyKFwid2lkdGhcIiwgY2xhc3NCb3gud2lkdGggKyAyICogY29uZi5wYWRkaW5nKS5hdHRyKFwiaGVpZ2h0XCIsIGNsYXNzQm94LmhlaWdodCArIGNvbmYucGFkZGluZyArIDAuNSAqIGNvbmYuZGl2aWRlck1hcmdpbikuYXR0cihcImNsYXNzXCIsIGNzc0NsYXNzU3RyKTtcbiAgY29uc3QgcmVjdFdpZHRoID0gcmVjdC5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xuICB0aXRsZS5ub2RlKCkuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHgpIHtcbiAgICB4LnNldEF0dHJpYnV0ZShcInhcIiwgKHJlY3RXaWR0aCAtIHguZ2V0QkJveCgpLndpZHRoKSAvIDIpO1xuICB9KTtcbiAgaWYgKGNsYXNzRGVmLnRvb2x0aXApIHtcbiAgICB0aXRsZS5pbnNlcnQoXCJ0aXRsZVwiKS50ZXh0KGNsYXNzRGVmLnRvb2x0aXApO1xuICB9XG4gIG1lbWJlcnNMaW5lLmF0dHIoXCJ4MlwiLCByZWN0V2lkdGgpO1xuICBtZXRob2RzTGluZS5hdHRyKFwieDJcIiwgcmVjdFdpZHRoKTtcbiAgY2xhc3NJbmZvLndpZHRoID0gcmVjdFdpZHRoO1xuICBjbGFzc0luZm8uaGVpZ2h0ID0gY2xhc3NCb3guaGVpZ2h0ICsgY29uZi5wYWRkaW5nICsgMC41ICogY29uZi5kaXZpZGVyTWFyZ2luO1xuICByZXR1cm4gY2xhc3NJbmZvO1xufTtcbmNvbnN0IGdldENsYXNzVGl0bGVTdHJpbmcgPSBmdW5jdGlvbihjbGFzc0RlZikge1xuICBsZXQgY2xhc3NUaXRsZVN0cmluZyA9IGNsYXNzRGVmLmlkO1xuICBpZiAoY2xhc3NEZWYudHlwZSkge1xuICAgIGNsYXNzVGl0bGVTdHJpbmcgKz0gXCI8XCIgKyBjbGFzc0RlZi50eXBlICsgXCI+XCI7XG4gIH1cbiAgcmV0dXJuIGNsYXNzVGl0bGVTdHJpbmc7XG59O1xuY29uc3QgZHJhd05vdGUgPSBmdW5jdGlvbihlbGVtLCBub3RlLCBjb25mLCBkaWFnT2JqKSB7XG4gIGxvZy5kZWJ1ZyhcIlJlbmRlcmluZyBub3RlIFwiLCBub3RlLCBjb25mKTtcbiAgY29uc3QgaWQgPSBub3RlLmlkO1xuICBjb25zdCBub3RlSW5mbyA9IHtcbiAgICBpZCxcbiAgICB0ZXh0OiBub3RlLnRleHQsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH07XG4gIGNvbnN0IGcgPSBlbGVtLmFwcGVuZChcImdcIikuYXR0cihcImlkXCIsIGlkKS5hdHRyKFwiY2xhc3NcIiwgXCJjbGFzc0dyb3VwXCIpO1xuICBsZXQgdGV4dCA9IGcuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwieVwiLCBjb25mLnRleHRIZWlnaHQgKyBjb25mLnBhZGRpbmcpLmF0dHIoXCJ4XCIsIDApO1xuICBjb25zdCBsaW5lcyA9IEpTT04ucGFyc2UoYFwiJHtub3RlLnRleHR9XCJgKS5zcGxpdChcIlxcblwiKTtcbiAgbGluZXMuZm9yRWFjaChmdW5jdGlvbihsaW5lMikge1xuICAgIGxvZy5kZWJ1ZyhgQWRkaW5nIGxpbmU6ICR7bGluZTJ9YCk7XG4gICAgdGV4dC5hcHBlbmQoXCJ0c3BhblwiKS50ZXh0KGxpbmUyKS5hdHRyKFwiY2xhc3NcIiwgXCJ0aXRsZVwiKS5hdHRyKFwiZHlcIiwgY29uZi50ZXh0SGVpZ2h0KTtcbiAgfSk7XG4gIGNvbnN0IG5vdGVCb3ggPSBnLm5vZGUoKS5nZXRCQm94KCk7XG4gIGNvbnN0IHJlY3QgPSBnLmluc2VydChcInJlY3RcIiwgXCI6Zmlyc3QtY2hpbGRcIikuYXR0cihcInhcIiwgMCkuYXR0cihcInlcIiwgMCkuYXR0cihcIndpZHRoXCIsIG5vdGVCb3gud2lkdGggKyAyICogY29uZi5wYWRkaW5nKS5hdHRyKFxuICAgIFwiaGVpZ2h0XCIsXG4gICAgbm90ZUJveC5oZWlnaHQgKyBsaW5lcy5sZW5ndGggKiBjb25mLnRleHRIZWlnaHQgKyBjb25mLnBhZGRpbmcgKyAwLjUgKiBjb25mLmRpdmlkZXJNYXJnaW5cbiAgKTtcbiAgY29uc3QgcmVjdFdpZHRoID0gcmVjdC5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xuICB0ZXh0Lm5vZGUoKS5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgIHguc2V0QXR0cmlidXRlKFwieFwiLCAocmVjdFdpZHRoIC0geC5nZXRCQm94KCkud2lkdGgpIC8gMik7XG4gIH0pO1xuICBub3RlSW5mby53aWR0aCA9IHJlY3RXaWR0aDtcbiAgbm90ZUluZm8uaGVpZ2h0ID0gbm90ZUJveC5oZWlnaHQgKyBsaW5lcy5sZW5ndGggKiBjb25mLnRleHRIZWlnaHQgKyBjb25mLnBhZGRpbmcgKyAwLjUgKiBjb25mLmRpdmlkZXJNYXJnaW47XG4gIHJldHVybiBub3RlSW5mbztcbn07XG5jb25zdCBwYXJzZU1lbWJlciA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgbGV0IGRpc3BsYXlUZXh0ID0gXCJcIjtcbiAgbGV0IGNzc1N0eWxlID0gXCJcIjtcbiAgbGV0IHJldHVyblR5cGUgPSBcIlwiO1xuICBsZXQgdmlzaWJpbGl0eSA9IFwiXCI7XG4gIGxldCBmaXJzdENoYXIgPSB0ZXh0LnN1YnN0cmluZygwLCAxKTtcbiAgbGV0IGxhc3RDaGFyID0gdGV4dC5zdWJzdHJpbmcodGV4dC5sZW5ndGggLSAxLCB0ZXh0Lmxlbmd0aCk7XG4gIGlmIChmaXJzdENoYXIubWF0Y2goL1sjK34tXS8pKSB7XG4gICAgdmlzaWJpbGl0eSA9IGZpcnN0Q2hhcjtcbiAgfVxuICBsZXQgbm9DbGFzc2lmaWVyUmUgPSAvW1xcc1xcdyl+XS87XG4gIGlmICghbGFzdENoYXIubWF0Y2gobm9DbGFzc2lmaWVyUmUpKSB7XG4gICAgY3NzU3R5bGUgPSBwYXJzZUNsYXNzaWZpZXIobGFzdENoYXIpO1xuICB9XG4gIGNvbnN0IHN0YXJ0SW5kZXggPSB2aXNpYmlsaXR5ID09PSBcIlwiID8gMCA6IDE7XG4gIGxldCBlbmRJbmRleCA9IGNzc1N0eWxlID09PSBcIlwiID8gdGV4dC5sZW5ndGggOiB0ZXh0Lmxlbmd0aCAtIDE7XG4gIHRleHQgPSB0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gIGNvbnN0IG1ldGhvZFN0YXJ0ID0gdGV4dC5pbmRleE9mKFwiKFwiKTtcbiAgY29uc3QgbWV0aG9kRW5kID0gdGV4dC5pbmRleE9mKFwiKVwiKTtcbiAgY29uc3QgaXNNZXRob2QgPSBtZXRob2RTdGFydCA+IDEgJiYgbWV0aG9kRW5kID4gbWV0aG9kU3RhcnQgJiYgbWV0aG9kRW5kIDw9IHRleHQubGVuZ3RoO1xuICBpZiAoaXNNZXRob2QpIHtcbiAgICBsZXQgbWV0aG9kTmFtZSA9IHRleHQuc3Vic3RyaW5nKDAsIG1ldGhvZFN0YXJ0KS50cmltKCk7XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IHRleHQuc3Vic3RyaW5nKG1ldGhvZFN0YXJ0ICsgMSwgbWV0aG9kRW5kKTtcbiAgICBkaXNwbGF5VGV4dCA9IHZpc2liaWxpdHkgKyBtZXRob2ROYW1lICsgXCIoXCIgKyBwYXJzZUdlbmVyaWNUeXBlcyhwYXJhbWV0ZXJzLnRyaW0oKSkgKyBcIilcIjtcbiAgICBpZiAobWV0aG9kRW5kIDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgIGxldCBwb3RlbnRpYWxDbGFzc2lmaWVyID0gdGV4dC5zdWJzdHJpbmcobWV0aG9kRW5kICsgMSwgbWV0aG9kRW5kICsgMik7XG4gICAgICBpZiAoY3NzU3R5bGUgPT09IFwiXCIgJiYgIXBvdGVudGlhbENsYXNzaWZpZXIubWF0Y2gobm9DbGFzc2lmaWVyUmUpKSB7XG4gICAgICAgIGNzc1N0eWxlID0gcGFyc2VDbGFzc2lmaWVyKHBvdGVudGlhbENsYXNzaWZpZXIpO1xuICAgICAgICByZXR1cm5UeXBlID0gdGV4dC5zdWJzdHJpbmcobWV0aG9kRW5kICsgMikudHJpbSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuVHlwZSA9IHRleHQuc3Vic3RyaW5nKG1ldGhvZEVuZCArIDEpLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXR1cm5UeXBlICE9PSBcIlwiKSB7XG4gICAgICAgIGlmIChyZXR1cm5UeXBlLmNoYXJBdCgwKSA9PT0gXCI6XCIpIHtcbiAgICAgICAgICByZXR1cm5UeXBlID0gcmV0dXJuVHlwZS5zdWJzdHJpbmcoMSkudHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVyblR5cGUgPSBcIiA6IFwiICsgcGFyc2VHZW5lcmljVHlwZXMocmV0dXJuVHlwZSk7XG4gICAgICAgIGRpc3BsYXlUZXh0ICs9IHJldHVyblR5cGU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRpc3BsYXlUZXh0ID0gdmlzaWJpbGl0eSArIHBhcnNlR2VuZXJpY1R5cGVzKHRleHQpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGlzcGxheVRleHQsXG4gICAgY3NzU3R5bGVcbiAgfTtcbn07XG5jb25zdCBhZGRUc3BhbiA9IGZ1bmN0aW9uKHRleHRFbCwgdHh0LCBpc0ZpcnN0LCBjb25mKSB7XG4gIGxldCBtZW1iZXIgPSBwYXJzZU1lbWJlcih0eHQpO1xuICBjb25zdCB0U3BhbiA9IHRleHRFbC5hcHBlbmQoXCJ0c3BhblwiKS5hdHRyKFwieFwiLCBjb25mLnBhZGRpbmcpLnRleHQobWVtYmVyLmRpc3BsYXlUZXh0KTtcbiAgaWYgKG1lbWJlci5jc3NTdHlsZSAhPT0gXCJcIikge1xuICAgIHRTcGFuLmF0dHIoXCJzdHlsZVwiLCBtZW1iZXIuY3NzU3R5bGUpO1xuICB9XG4gIGlmICghaXNGaXJzdCkge1xuICAgIHRTcGFuLmF0dHIoXCJkeVwiLCBjb25mLnRleHRIZWlnaHQpO1xuICB9XG59O1xuY29uc3QgcGFyc2VDbGFzc2lmaWVyID0gZnVuY3Rpb24oY2xhc3NpZmllcikge1xuICBzd2l0Y2ggKGNsYXNzaWZpZXIpIHtcbiAgICBjYXNlIFwiKlwiOlxuICAgICAgcmV0dXJuIFwiZm9udC1zdHlsZTppdGFsaWM7XCI7XG4gICAgY2FzZSBcIiRcIjpcbiAgICAgIHJldHVybiBcInRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7XCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlwiO1xuICB9XG59O1xuY29uc3Qgc3ZnRHJhdyA9IHtcbiAgZ2V0Q2xhc3NUaXRsZVN0cmluZyxcbiAgZHJhd0NsYXNzLFxuICBkcmF3RWRnZSxcbiAgZHJhd05vdGUsXG4gIHBhcnNlTWVtYmVyXG59O1xuZXhwb3J0IHtcbiAgcGFyc2VNZW1iZXIgYXMgcCxcbiAgc3ZnRHJhdyBhcyBzXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/mermaid/dist/svgDraw-70101091.js\n");

/***/ })

}]);