"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_mermaid_dist_diagram-definition-f242ae7c_js"],{

/***/ "../node_modules/mermaid/dist/diagram-definition-f242ae7c.js":
/*!*******************************************************************!*\
  !*** ../node_modules/mermaid/dist/diagram-definition-f242ae7c.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./mermaid-303a50ff.js */ \"../node_modules/mermaid/dist/mermaid-303a50ff.js\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ \"d3\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dagre_d3_es_src_dagre_js_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dagre-d3-es/src/dagre-js/label/add-html-label.js */ \"../node_modules/dagre-d3-es/src/dagre-js/label/add-html-label.js\");\n/* harmony import */ var ts_dedent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ts-dedent */ \"../node_modules/ts-dedent/esm/index.js\");\n/* harmony import */ var moment_mini__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment-mini */ \"../node_modules/moment-mini/moment.min.js\");\n/* harmony import */ var moment_mini__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment_mini__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @braintree/sanitize-url */ \"../node_modules/mermaid/node_modules/@braintree/sanitize-url/dist/index.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dompurify */ \"../node_modules/mermaid/node_modules/dompurify/dist/purify.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var dagre_d3_es_src_dagre_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dagre-d3-es/src/dagre/index.js */ \"../node_modules/dagre-d3-es/src/dagre/index.js\");\n/* harmony import */ var dagre_d3_es_src_graphlib_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dagre-d3-es/src/graphlib/index.js */ \"../node_modules/dagre-d3-es/src/graphlib/index.js\");\n/* harmony import */ var dagre_d3_es_src_graphlib_json_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! dagre-d3-es/src/graphlib/json.js */ \"../node_modules/dagre-d3-es/src/graphlib/json.js\");\n/* harmony import */ var dagre_d3_es__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dagre-d3-es */ \"../node_modules/dagre-d3-es/src/index.js\");\n/* harmony import */ var dagre_d3_es_src_dagre_js_util_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dagre-d3-es/src/dagre-js/util.js */ \"../node_modules/dagre-d3-es/src/dagre-js/util.js\");\n/* harmony import */ var dagre_d3_es_src_dagre_js_intersect_intersect_polygon_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dagre-d3-es/src/dagre-js/intersect/intersect-polygon.js */ \"../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-polygon.js\");\n/* harmony import */ var dagre_d3_es_src_dagre_js_intersect_intersect_rect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! dagre-d3-es/src/dagre-js/intersect/intersect-rect.js */ \"../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-rect.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst findCommonAncestor = (id1, id2, treeData) => {\n  const { parentById } = treeData;\n  const visited = /* @__PURE__ */ new Set();\n  let currentId = id1;\n  while (currentId) {\n    visited.add(currentId);\n    if (currentId === id2) {\n      return currentId;\n    }\n    currentId = parentById[currentId];\n  }\n  currentId = id2;\n  while (currentId) {\n    if (visited.has(currentId)) {\n      return currentId;\n    }\n    currentId = parentById[currentId];\n  }\n  return \"root\";\n};\nlet elk;\nconst portPos = {};\nconst conf = {};\nlet nodeDb = {};\nconst addVertices = function(vert, svgId, root, doc, diagObj, parentLookupDb, graph) {\n  const svg = root.select(`[id=\"${svgId}\"]`);\n  const nodes = svg.insert(\"g\").attr(\"class\", \"nodes\");\n  const keys = Object.keys(vert);\n  keys.forEach(function(id) {\n    const vertex = vert[id];\n    let classStr = \"default\";\n    if (vertex.classes.length > 0) {\n      classStr = vertex.classes.join(\" \");\n    }\n    const styles2 = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.a)(vertex.styles);\n    let vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;\n    let vertexNode;\n    const labelData = { width: 0, height: 0 };\n    if ((0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.e)((0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.g)().flowchart.htmlLabels)) {\n      const node2 = {\n        label: vertexText.replace(\n          /fa[blrs]?:fa-[\\w-]+/g,\n          (s) => `<i class='${s.replace(\":\", \" \")}'></i>`\n        )\n      };\n      vertexNode = (0,dagre_d3_es_src_dagre_js_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_1__.addHtmlLabel)(svg, node2).node();\n      const bbox = vertexNode.getBBox();\n      labelData.width = bbox.width;\n      labelData.height = bbox.height;\n      labelData.labelNode = vertexNode;\n      vertexNode.parentNode.removeChild(vertexNode);\n    } else {\n      const svgLabel = doc.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n      svgLabel.setAttribute(\"style\", styles2.labelStyle.replace(\"color:\", \"fill:\"));\n      const rows = vertexText.split(_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.c.lineBreakRegex);\n      for (const row of rows) {\n        const tspan = doc.createElementNS(\"http://www.w3.org/2000/svg\", \"tspan\");\n        tspan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n        tspan.setAttribute(\"dy\", \"1em\");\n        tspan.setAttribute(\"x\", \"1\");\n        tspan.textContent = row;\n        svgLabel.appendChild(tspan);\n      }\n      vertexNode = svgLabel;\n      const bbox = vertexNode.getBBox();\n      labelData.width = bbox.width;\n      labelData.height = bbox.height;\n      labelData.labelNode = vertexNode;\n    }\n    const ports = [\n      {\n        id: vertex.id + \"-west\",\n        layoutOptions: {\n          \"port.side\": \"WEST\"\n        }\n      },\n      {\n        id: vertex.id + \"-east\",\n        layoutOptions: {\n          \"port.side\": \"EAST\"\n        }\n      },\n      {\n        id: vertex.id + \"-south\",\n        layoutOptions: {\n          \"port.side\": \"SOUTH\"\n        }\n      },\n      {\n        id: vertex.id + \"-north\",\n        layoutOptions: {\n          \"port.side\": \"NORTH\"\n        }\n      }\n    ];\n    let radious = 0;\n    let _shape = \"\";\n    let layoutOptions = {};\n    switch (vertex.type) {\n      case \"round\":\n        radious = 5;\n        _shape = \"rect\";\n        break;\n      case \"square\":\n        _shape = \"rect\";\n        break;\n      case \"diamond\":\n        _shape = \"question\";\n        layoutOptions = {\n          portConstraints: \"FIXED_SIDE\"\n        };\n        break;\n      case \"hexagon\":\n        _shape = \"hexagon\";\n        break;\n      case \"odd\":\n        _shape = \"rect_left_inv_arrow\";\n        break;\n      case \"lean_right\":\n        _shape = \"lean_right\";\n        break;\n      case \"lean_left\":\n        _shape = \"lean_left\";\n        break;\n      case \"trapezoid\":\n        _shape = \"trapezoid\";\n        break;\n      case \"inv_trapezoid\":\n        _shape = \"inv_trapezoid\";\n        break;\n      case \"odd_right\":\n        _shape = \"rect_left_inv_arrow\";\n        break;\n      case \"circle\":\n        _shape = \"circle\";\n        break;\n      case \"ellipse\":\n        _shape = \"ellipse\";\n        break;\n      case \"stadium\":\n        _shape = \"stadium\";\n        break;\n      case \"subroutine\":\n        _shape = \"subroutine\";\n        break;\n      case \"cylinder\":\n        _shape = \"cylinder\";\n        break;\n      case \"group\":\n        _shape = \"rect\";\n        break;\n      case \"doublecircle\":\n        _shape = \"doublecircle\";\n        break;\n      default:\n        _shape = \"rect\";\n    }\n    const node = {\n      labelStyle: styles2.labelStyle,\n      shape: _shape,\n      labelText: vertexText,\n      rx: radious,\n      ry: radious,\n      class: classStr,\n      style: styles2.style,\n      id: vertex.id,\n      link: vertex.link,\n      linkTarget: vertex.linkTarget,\n      tooltip: diagObj.db.getTooltip(vertex.id) || \"\",\n      domId: diagObj.db.lookUpDomId(vertex.id),\n      haveCallback: vertex.haveCallback,\n      width: vertex.type === \"group\" ? 500 : void 0,\n      dir: vertex.dir,\n      type: vertex.type,\n      props: vertex.props,\n      padding: (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.g)().flowchart.padding\n    };\n    let boundingBox;\n    let nodeEl;\n    if (node.type !== \"group\") {\n      nodeEl = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.b)(nodes, node, vertex.dir);\n      boundingBox = nodeEl.node().getBBox();\n    }\n    const data = {\n      id: vertex.id,\n      ports: vertex.type === \"diamond\" ? ports : [],\n      // labelStyle: styles.labelStyle,\n      // shape: _shape,\n      layoutOptions,\n      labelText: vertexText,\n      labelData,\n      // labels: [{ text: vertexText }],\n      // rx: radius,\n      // ry: radius,\n      // class: classStr,\n      // style: styles.style,\n      // link: vertex.link,\n      // linkTarget: vertex.linkTarget,\n      // tooltip: diagObj.db.getTooltip(vertex.id) || '',\n      domId: diagObj.db.lookUpDomId(vertex.id),\n      // haveCallback: vertex.haveCallback,\n      width: boundingBox == null ? void 0 : boundingBox.width,\n      height: boundingBox == null ? void 0 : boundingBox.height,\n      // dir: vertex.dir,\n      type: vertex.type,\n      // props: vertex.props,\n      // padding: getConfig().flowchart.padding,\n      // boundingBox,\n      el: nodeEl,\n      parent: parentLookupDb.parentById[vertex.id]\n    };\n    nodeDb[node.id] = data;\n  });\n  return graph;\n};\nconst getNextPosition = (position, edgeDirection, graphDirection) => {\n  const portPos2 = {\n    TB: {\n      in: {\n        north: \"north\"\n      },\n      out: {\n        south: \"west\",\n        west: \"east\",\n        east: \"south\"\n      }\n    },\n    LR: {\n      in: {\n        west: \"west\"\n      },\n      out: {\n        east: \"south\",\n        south: \"north\",\n        north: \"east\"\n      }\n    },\n    RL: {\n      in: {\n        east: \"east\"\n      },\n      out: {\n        west: \"north\",\n        north: \"south\",\n        south: \"west\"\n      }\n    },\n    BT: {\n      in: {\n        south: \"south\"\n      },\n      out: {\n        north: \"east\",\n        east: \"west\",\n        west: \"north\"\n      }\n    }\n  };\n  portPos2.TD = portPos2.TB;\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"abc88\", graphDirection, edgeDirection, position);\n  return portPos2[graphDirection][edgeDirection][position];\n};\nconst getNextPort = (node, edgeDirection, graphDirection) => {\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"getNextPort abc88\", { node, edgeDirection, graphDirection });\n  if (!portPos[node]) {\n    switch (graphDirection) {\n      case \"TB\":\n      case \"TD\":\n        portPos[node] = {\n          inPosition: \"north\",\n          outPosition: \"south\"\n        };\n        break;\n      case \"BT\":\n        portPos[node] = {\n          inPosition: \"south\",\n          outPosition: \"north\"\n        };\n        break;\n      case \"RL\":\n        portPos[node] = {\n          inPosition: \"east\",\n          outPosition: \"west\"\n        };\n        break;\n      case \"LR\":\n        portPos[node] = {\n          inPosition: \"west\",\n          outPosition: \"east\"\n        };\n        break;\n    }\n  }\n  const result = edgeDirection === \"in\" ? portPos[node].inPosition : portPos[node].outPosition;\n  if (edgeDirection === \"in\") {\n    portPos[node].inPosition = getNextPosition(\n      portPos[node].inPosition,\n      edgeDirection,\n      graphDirection\n    );\n  } else {\n    portPos[node].outPosition = getNextPosition(\n      portPos[node].outPosition,\n      edgeDirection,\n      graphDirection\n    );\n  }\n  return result;\n};\nconst getEdgeStartEndPoint = (edge, dir) => {\n  let source = edge.start;\n  let target = edge.end;\n  const startNode = nodeDb[source];\n  const endNode = nodeDb[target];\n  if (!startNode || !endNode) {\n    return { source, target };\n  }\n  if (startNode.type === \"diamond\") {\n    source = `${source}-${getNextPort(source, \"out\", dir)}`;\n  }\n  if (endNode.type === \"diamond\") {\n    target = `${target}-${getNextPort(target, \"in\", dir)}`;\n  }\n  return { source, target };\n};\nconst addEdges = function(edges, diagObj, graph, svg) {\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"abc78 edges = \", edges);\n  const labelsEl = svg.insert(\"g\").attr(\"class\", \"edgeLabels\");\n  let linkIdCnt = {};\n  let dir = diagObj.db.getDirection();\n  let defaultStyle;\n  let defaultLabelStyle;\n  if (edges.defaultStyle !== void 0) {\n    const defaultStyles = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.a)(edges.defaultStyle);\n    defaultStyle = defaultStyles.style;\n    defaultLabelStyle = defaultStyles.labelStyle;\n  }\n  edges.forEach(function(edge) {\n    var linkIdBase = \"L-\" + edge.start + \"-\" + edge.end;\n    if (linkIdCnt[linkIdBase] === void 0) {\n      linkIdCnt[linkIdBase] = 0;\n      _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"abc78 new entry\", linkIdBase, linkIdCnt[linkIdBase]);\n    } else {\n      linkIdCnt[linkIdBase]++;\n      _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"abc78 new entry\", linkIdBase, linkIdCnt[linkIdBase]);\n    }\n    let linkId = linkIdBase + \"-\" + linkIdCnt[linkIdBase];\n    _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"abc78 new link id to be used is\", linkIdBase, linkId, linkIdCnt[linkIdBase]);\n    var linkNameStart = \"LS-\" + edge.start;\n    var linkNameEnd = \"LE-\" + edge.end;\n    const edgeData = { style: \"\", labelStyle: \"\" };\n    edgeData.minlen = edge.length || 1;\n    if (edge.type === \"arrow_open\") {\n      edgeData.arrowhead = \"none\";\n    } else {\n      edgeData.arrowhead = \"normal\";\n    }\n    edgeData.arrowTypeStart = \"arrow_open\";\n    edgeData.arrowTypeEnd = \"arrow_open\";\n    switch (edge.type) {\n      case \"double_arrow_cross\":\n        edgeData.arrowTypeStart = \"arrow_cross\";\n      case \"arrow_cross\":\n        edgeData.arrowTypeEnd = \"arrow_cross\";\n        break;\n      case \"double_arrow_point\":\n        edgeData.arrowTypeStart = \"arrow_point\";\n      case \"arrow_point\":\n        edgeData.arrowTypeEnd = \"arrow_point\";\n        break;\n      case \"double_arrow_circle\":\n        edgeData.arrowTypeStart = \"arrow_circle\";\n      case \"arrow_circle\":\n        edgeData.arrowTypeEnd = \"arrow_circle\";\n        break;\n    }\n    let style = \"\";\n    let labelStyle = \"\";\n    switch (edge.stroke) {\n      case \"normal\":\n        style = \"fill:none;\";\n        if (defaultStyle !== void 0) {\n          style = defaultStyle;\n        }\n        if (defaultLabelStyle !== void 0) {\n          labelStyle = defaultLabelStyle;\n        }\n        edgeData.thickness = \"normal\";\n        edgeData.pattern = \"solid\";\n        break;\n      case \"dotted\":\n        edgeData.thickness = \"normal\";\n        edgeData.pattern = \"dotted\";\n        edgeData.style = \"fill:none;stroke-width:2px;stroke-dasharray:3;\";\n        break;\n      case \"thick\":\n        edgeData.thickness = \"thick\";\n        edgeData.pattern = \"solid\";\n        edgeData.style = \"stroke-width: 3.5px;fill:none;\";\n        break;\n    }\n    if (edge.style !== void 0) {\n      const styles2 = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.a)(edge.style);\n      style = styles2.style;\n      labelStyle = styles2.labelStyle;\n    }\n    edgeData.style = edgeData.style += style;\n    edgeData.labelStyle = edgeData.labelStyle += labelStyle;\n    if (edge.interpolate !== void 0) {\n      edgeData.curve = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.d)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n    } else if (edges.defaultInterpolate !== void 0) {\n      edgeData.curve = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.d)(edges.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n    } else {\n      edgeData.curve = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.d)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n    }\n    if (edge.text === void 0) {\n      if (edge.style !== void 0) {\n        edgeData.arrowheadStyle = \"fill: #333\";\n      }\n    } else {\n      edgeData.arrowheadStyle = \"fill: #333\";\n      edgeData.labelpos = \"c\";\n    }\n    edgeData.labelType = \"text\";\n    edgeData.label = edge.text.replace(_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.c.lineBreakRegex, \"\\n\");\n    if (edge.style === void 0) {\n      edgeData.style = edgeData.style || \"stroke: #333; stroke-width: 1.5px;fill:none;\";\n    }\n    edgeData.labelStyle = edgeData.labelStyle.replace(\"color:\", \"fill:\");\n    edgeData.id = linkId;\n    edgeData.classes = \"flowchart-link \" + linkNameStart + \" \" + linkNameEnd;\n    const labelEl = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.f)(labelsEl, edgeData);\n    const { source, target } = getEdgeStartEndPoint(edge, dir);\n    _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.debug(\"abc78 source and target\", source, target);\n    graph.edges.push({\n      id: \"e\" + edge.start + edge.end,\n      sources: [source],\n      targets: [target],\n      labelEl,\n      labels: [\n        {\n          width: edgeData.width,\n          height: edgeData.height,\n          orgWidth: edgeData.width,\n          orgHeight: edgeData.height,\n          text: edgeData.label,\n          layoutOptions: {\n            \"edgeLabels.inline\": \"true\",\n            \"edgeLabels.placement\": \"CENTER\"\n          }\n        }\n      ],\n      edgeData\n    });\n  });\n  return graph;\n};\nconst addMarkersToEdge = function(svgPath, edgeData, diagramType, arrowMarkerAbsolute) {\n  let url = \"\";\n  if (arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\");\n    url = url.replace(/\\)/g, \"\\\\)\");\n  }\n  switch (edgeData.arrowTypeStart) {\n    case \"arrow_cross\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-crossStart)\");\n      break;\n    case \"arrow_point\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-pointStart)\");\n      break;\n    case \"arrow_barb\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-barbStart)\");\n      break;\n    case \"arrow_circle\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-circleStart)\");\n      break;\n    case \"aggregation\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-aggregationStart)\");\n      break;\n    case \"extension\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-extensionStart)\");\n      break;\n    case \"composition\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-compositionStart)\");\n      break;\n    case \"dependency\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-dependencyStart)\");\n      break;\n    case \"lollipop\":\n      svgPath.attr(\"marker-start\", \"url(\" + url + \"#\" + diagramType + \"-lollipopStart)\");\n      break;\n  }\n  switch (edgeData.arrowTypeEnd) {\n    case \"arrow_cross\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-crossEnd)\");\n      break;\n    case \"arrow_point\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-pointEnd)\");\n      break;\n    case \"arrow_barb\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-barbEnd)\");\n      break;\n    case \"arrow_circle\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-circleEnd)\");\n      break;\n    case \"aggregation\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-aggregationEnd)\");\n      break;\n    case \"extension\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-extensionEnd)\");\n      break;\n    case \"composition\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-compositionEnd)\");\n      break;\n    case \"dependency\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-dependencyEnd)\");\n      break;\n    case \"lollipop\":\n      svgPath.attr(\"marker-end\", \"url(\" + url + \"#\" + diagramType + \"-lollipopEnd)\");\n      break;\n  }\n};\nconst getClasses = function(text, diagObj) {\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"Extracting classes\");\n  diagObj.db.clear(\"ver-2\");\n  try {\n    diagObj.parse(text);\n    return diagObj.db.getClasses();\n  } catch (e) {\n    return {};\n  }\n};\nconst addSubGraphs = function(db2) {\n  const parentLookupDb = { parentById: {}, childrenById: {} };\n  const subgraphs = db2.getSubGraphs();\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"Subgraphs - \", subgraphs);\n  subgraphs.forEach(function(subgraph) {\n    subgraph.nodes.forEach(function(node) {\n      parentLookupDb.parentById[node] = subgraph.id;\n      if (parentLookupDb.childrenById[subgraph.id] === void 0) {\n        parentLookupDb.childrenById[subgraph.id] = [];\n      }\n      parentLookupDb.childrenById[subgraph.id].push(node);\n    });\n  });\n  subgraphs.forEach(function(subgraph) {\n    ({ id: subgraph.id });\n    if (parentLookupDb.parentById[subgraph.id] !== void 0) {\n      parentLookupDb.parentById[subgraph.id];\n    }\n  });\n  return parentLookupDb;\n};\nconst calcOffset = function(src, dest, parentLookupDb) {\n  const ancestor = findCommonAncestor(src, dest, parentLookupDb);\n  if (ancestor === void 0 || ancestor === \"root\") {\n    return { x: 0, y: 0 };\n  }\n  const ancestorOffset = nodeDb[ancestor].offset;\n  return { x: ancestorOffset.posX, y: ancestorOffset.posY };\n};\nconst insertEdge = function(edgesEl, edge, edgeData, diagObj, parentLookupDb) {\n  const offset = calcOffset(edge.sources[0], edge.targets[0], parentLookupDb);\n  const src = edge.sections[0].startPoint;\n  const dest = edge.sections[0].endPoint;\n  const segments = edge.sections[0].bendPoints ? edge.sections[0].bendPoints : [];\n  const segPoints = segments.map((segment) => [segment.x + offset.x, segment.y + offset.y]);\n  const points = [\n    [src.x + offset.x, src.y + offset.y],\n    ...segPoints,\n    [dest.x + offset.x, dest.y + offset.y]\n  ];\n  const curve = (0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n  const edgePath = edgesEl.insert(\"path\").attr(\"d\", curve(points)).attr(\"class\", \"path\").attr(\"fill\", \"none\");\n  const edgeG = edgesEl.insert(\"g\").attr(\"class\", \"edgeLabel\");\n  const edgeWithLabel = (0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(edgeG.node().appendChild(edge.labelEl));\n  const box = edgeWithLabel.node().firstChild.getBoundingClientRect();\n  edgeWithLabel.attr(\"width\", box.width);\n  edgeWithLabel.attr(\"height\", box.height);\n  edgeG.attr(\n    \"transform\",\n    `translate(${edge.labels[0].x + offset.x}, ${edge.labels[0].y + offset.y})`\n  );\n  addMarkersToEdge(edgePath, edgeData, diagObj.type, diagObj.arrowMarkerAbsolute);\n};\nconst insertChildren = (nodeArray, parentLookupDb) => {\n  nodeArray.forEach((node) => {\n    if (!node.children) {\n      node.children = [];\n    }\n    const childIds = parentLookupDb.childrenById[node.id];\n    if (childIds) {\n      childIds.forEach((childId) => {\n        node.children.push(nodeDb[childId]);\n      });\n    }\n    insertChildren(node.children, parentLookupDb);\n  });\n};\nconst draw = async function(text, id, _version, diagObj) {\n  var _a;\n  if (!elk) {\n    const ELK = (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_elkjs_lib_elk_bundled_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! elkjs/lib/elk.bundled.js */ \"../node_modules/elkjs/lib/elk.bundled.js\", 23))).default;\n    elk = new ELK();\n  }\n  diagObj.db.clear();\n  nodeDb = {};\n  diagObj.db.setGen(\"gen-2\");\n  diagObj.parser.parse(text);\n  const renderEl = (0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(\"body\").append(\"div\").attr(\"style\", \"height:400px\").attr(\"id\", \"cy\");\n  let graph = {\n    id: \"root\",\n    layoutOptions: {\n      \"elk.hierarchyHandling\": \"INCLUDE_CHILDREN\",\n      \"org.eclipse.elk.padding\": \"[top=100, left=100, bottom=110, right=110]\",\n      \"elk.layered.spacing.edgeNodeBetweenLayers\": \"30\",\n      // 'elk.layered.mergeEdges': 'true',\n      \"elk.direction\": \"DOWN\"\n      // 'elk.ports.sameLayerEdges': true,\n      // 'nodePlacement.strategy': 'SIMPLE',\n    },\n    children: [],\n    edges: []\n  };\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"Drawing flowchart using v3 renderer\", elk);\n  let dir = diagObj.db.getDirection();\n  switch (dir) {\n    case \"BT\":\n      graph.layoutOptions[\"elk.direction\"] = \"UP\";\n      break;\n    case \"TB\":\n      graph.layoutOptions[\"elk.direction\"] = \"DOWN\";\n      break;\n    case \"LR\":\n      graph.layoutOptions[\"elk.direction\"] = \"RIGHT\";\n      break;\n    case \"RL\":\n      graph.layoutOptions[\"elk.direction\"] = \"LEFT\";\n      break;\n  }\n  const { securityLevel, flowchart: conf2 } = (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.g)();\n  let sandboxElement;\n  if (securityLevel === \"sandbox\") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(\"#i\" + id);\n  }\n  const root = securityLevel === \"sandbox\" ? (0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(\"body\");\n  const doc = securityLevel === \"sandbox\" ? sandboxElement.nodes()[0].contentDocument : document;\n  const svg = root.select(`[id=\"${id}\"]`);\n  const markers = [\"point\", \"circle\", \"cross\"];\n  (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.i)(svg, markers, diagObj.type, diagObj.arrowMarkerAbsolute);\n  const vert = diagObj.db.getVertices();\n  let subG;\n  const subGraphs = diagObj.db.getSubGraphs();\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"Subgraphs - \", subGraphs);\n  for (let i = subGraphs.length - 1; i >= 0; i--) {\n    subG = subGraphs[i];\n    diagObj.db.addVertex(subG.id, subG.title, \"group\", void 0, subG.classes, subG.dir);\n  }\n  const subGraphsEl = svg.insert(\"g\").attr(\"class\", \"subgraphs\");\n  const parentLookupDb = addSubGraphs(diagObj.db);\n  graph = addVertices(vert, id, root, doc, diagObj, parentLookupDb, graph);\n  const edgesEl = svg.insert(\"g\").attr(\"class\", \"edges edgePath\");\n  const edges = diagObj.db.getEdges();\n  graph = addEdges(edges, diagObj, graph, svg);\n  const nodes = Object.keys(nodeDb);\n  nodes.forEach((nodeId) => {\n    const node = nodeDb[nodeId];\n    if (!node.parent) {\n      graph.children.push(node);\n    }\n    if (parentLookupDb.childrenById[nodeId] !== void 0) {\n      node.labels = [\n        {\n          text: node.labelText,\n          layoutOptions: {\n            \"nodeLabels.placement\": \"[H_CENTER, V_TOP, INSIDE]\"\n          },\n          width: node.labelData.width,\n          height: node.labelData.height\n        }\n      ];\n      delete node.x;\n      delete node.y;\n      delete node.width;\n      delete node.height;\n    }\n  });\n  insertChildren(graph.children, parentLookupDb);\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"after layout\", JSON.stringify(graph, null, 2));\n  const g = await elk.layout(graph);\n  drawNodes(0, 0, g.children, svg, subGraphsEl, diagObj, 0);\n  _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"after layout\", g);\n  (_a = g.edges) == null ? void 0 : _a.map((edge) => {\n    insertEdge(edgesEl, edge, edge.edgeData, diagObj, parentLookupDb);\n  });\n  (0,_mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.s)({}, svg, conf2.diagramPadding, conf2.useMaxWidth);\n  renderEl.remove();\n};\nconst drawNodes = (relX, relY, nodeArray, svg, subgraphsEl, diagObj, depth) => {\n  nodeArray.forEach(function(node) {\n    if (node) {\n      nodeDb[node.id].offset = {\n        posX: node.x + relX,\n        posY: node.y + relY,\n        x: relX,\n        y: relY,\n        depth,\n        width: node.width,\n        height: node.height\n      };\n      if (node.type === \"group\") {\n        const subgraphEl = subgraphsEl.insert(\"g\").attr(\"class\", \"subgraph\");\n        subgraphEl.insert(\"rect\").attr(\"class\", \"subgraph subgraph-lvl-\" + depth % 5 + \" node\").attr(\"x\", node.x + relX).attr(\"y\", node.y + relY).attr(\"width\", node.width).attr(\"height\", node.height);\n        const label = subgraphEl.insert(\"g\").attr(\"class\", \"label\");\n        label.attr(\n          \"transform\",\n          `translate(${node.labels[0].x + relX + node.x}, ${node.labels[0].y + relY + node.y})`\n        );\n        label.node().appendChild(node.labelData.labelNode);\n        _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"Id (UGH)= \", node.type, node.labels);\n      } else {\n        _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.l.info(\"Id (UGH)= \", node.id);\n        node.el.attr(\n          \"transform\",\n          `translate(${node.x + relX + node.width / 2}, ${node.y + relY + node.height / 2})`\n        );\n      }\n    }\n  });\n  nodeArray.forEach(function(node) {\n    if (node && node.type === \"group\") {\n      drawNodes(relX + node.x, relY + node.y, node.children, svg, subgraphsEl, diagObj, depth + 1);\n    }\n  });\n};\nconst renderer = {\n  getClasses,\n  draw\n};\nconst genSections = (options) => {\n  let sections = \"\";\n  for (let i = 0; i < 5; i++) {\n    sections += `\n      .subgraph-lvl-${i} {\n        fill: ${options[`surface${i}`]};\n        stroke: ${options[`surfacePeer${i}`]};\n      }\n    `;\n  }\n  return sections;\n};\nconst getStyles = (options) => `.label {\n    font-family: ${options.fontFamily};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n  .cluster-label text {\n    fill: ${options.titleColor};\n  }\n  .cluster-label span {\n    color: ${options.titleColor};\n  }\n\n  .label text,span {\n    fill: ${options.nodeTextColor || options.textColor};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${options.edgeLabelBackground};\n      fill: ${options.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${options.clusterBkg};\n    stroke: ${options.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  .cluster span {\n    color: ${options.titleColor};\n  }\n  /* .cluster div {\n    color: ${options.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${options.fontFamily};\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor};\n  }\n  .subgraph {\n    stroke-width:2;\n    rx:3;\n  }\n  // .subgraph-lvl-1 {\n  //   fill:#ccc;\n  //   // stroke:black;\n  // }\n  ${genSections(options)}\n`;\nconst styles = getStyles;\nconst diagram = {\n  db: _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.h,\n  renderer,\n  parser: _mermaid_303a50ff_js__WEBPACK_IMPORTED_MODULE_13__.p,\n  styles\n};\n\n//# sourceMappingURL=diagram-definition-f242ae7c.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9kaWFncmFtLWRlZmluaXRpb24tZjI0MmFlN2MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdQO0FBQ3pNO0FBQ2lDO0FBQzdEO0FBQ0U7QUFDWTtBQUNkO0FBQ0g7QUFDYztBQUNkO0FBQ3dCO0FBQ0c7QUFDRDtBQUM1QjtBQUNPO0FBQ3FCO0FBQ3VCO0FBQ0g7QUFDaEM7QUFDOUI7QUFDQSxVQUFVLGFBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxNQUFNO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0RBQWtCO0FBQ3RDO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsUUFBUSx3REFBUSxDQUFDLHdEQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvQkFBb0I7QUFDbEQ7QUFDQTtBQUNBLG1CQUFtQiw4RkFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxvQ0FBb0Msb0RBQU07QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0Esa0JBQWtCO0FBQ2xCLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2RpYWdyYW0tZGVmaW5pdGlvbi1mMjQyYWU3Yy5qcz9iOTIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGwgYXMgbG9nLCBnIGFzIGdldENvbmZpZywgaSBhcyBpbnNlcnRNYXJrZXJzLCBzIGFzIHNldHVwR3JhcGhWaWV3Ym94LCBhIGFzIGdldFN0eWxlc0Zyb21BcnJheSwgZSBhcyBldmFsdWF0ZSwgYyBhcyBjb21tb24sIGIgYXMgaW5zZXJ0Tm9kZSwgZCBhcyBpbnRlcnBvbGF0ZVRvQ3VydmUsIGYgYXMgaW5zZXJ0RWRnZUxhYmVsLCBoIGFzIGRiLCBwIGFzIHBhcnNlciB9IGZyb20gXCIuL21lcm1haWQtMzAzYTUwZmYuanNcIjtcbmltcG9ydCB7IHNlbGVjdCwgY3VydmVMaW5lYXIsIGxpbmUgfSBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IGFkZEh0bWxMYWJlbCB9IGZyb20gXCJkYWdyZS1kMy1lcy9zcmMvZGFncmUtanMvbGFiZWwvYWRkLWh0bWwtbGFiZWwuanNcIjtcbmltcG9ydCBcInRzLWRlZGVudFwiO1xuaW1wb3J0IFwibW9tZW50LW1pbmlcIjtcbmltcG9ydCBcIkBicmFpbnRyZWUvc2FuaXRpemUtdXJsXCI7XG5pbXBvcnQgXCJkb21wdXJpZnlcIjtcbmltcG9ydCBcImtocm9tYVwiO1xuaW1wb3J0IFwibG9kYXNoLWVzL21lbW9pemUuanNcIjtcbmltcG9ydCBcInN0eWxpc1wiO1xuaW1wb3J0IFwiZGFncmUtZDMtZXMvc3JjL2RhZ3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgXCJkYWdyZS1kMy1lcy9zcmMvZ3JhcGhsaWIvaW5kZXguanNcIjtcbmltcG9ydCBcImRhZ3JlLWQzLWVzL3NyYy9ncmFwaGxpYi9qc29uLmpzXCI7XG5pbXBvcnQgXCJ1dWlkXCI7XG5pbXBvcnQgXCJkYWdyZS1kMy1lc1wiO1xuaW1wb3J0IFwiZGFncmUtZDMtZXMvc3JjL2RhZ3JlLWpzL3V0aWwuanNcIjtcbmltcG9ydCBcImRhZ3JlLWQzLWVzL3NyYy9kYWdyZS1qcy9pbnRlcnNlY3QvaW50ZXJzZWN0LXBvbHlnb24uanNcIjtcbmltcG9ydCBcImRhZ3JlLWQzLWVzL3NyYy9kYWdyZS1qcy9pbnRlcnNlY3QvaW50ZXJzZWN0LXJlY3QuanNcIjtcbmltcG9ydCBcImxvZGFzaC1lcy9pc0VtcHR5LmpzXCI7XG5jb25zdCBmaW5kQ29tbW9uQW5jZXN0b3IgPSAoaWQxLCBpZDIsIHRyZWVEYXRhKSA9PiB7XG4gIGNvbnN0IHsgcGFyZW50QnlJZCB9ID0gdHJlZURhdGE7XG4gIGNvbnN0IHZpc2l0ZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgY3VycmVudElkID0gaWQxO1xuICB3aGlsZSAoY3VycmVudElkKSB7XG4gICAgdmlzaXRlZC5hZGQoY3VycmVudElkKTtcbiAgICBpZiAoY3VycmVudElkID09PSBpZDIpIHtcbiAgICAgIHJldHVybiBjdXJyZW50SWQ7XG4gICAgfVxuICAgIGN1cnJlbnRJZCA9IHBhcmVudEJ5SWRbY3VycmVudElkXTtcbiAgfVxuICBjdXJyZW50SWQgPSBpZDI7XG4gIHdoaWxlIChjdXJyZW50SWQpIHtcbiAgICBpZiAodmlzaXRlZC5oYXMoY3VycmVudElkKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRJZDtcbiAgICB9XG4gICAgY3VycmVudElkID0gcGFyZW50QnlJZFtjdXJyZW50SWRdO1xuICB9XG4gIHJldHVybiBcInJvb3RcIjtcbn07XG5sZXQgZWxrO1xuY29uc3QgcG9ydFBvcyA9IHt9O1xuY29uc3QgY29uZiA9IHt9O1xubGV0IG5vZGVEYiA9IHt9O1xuY29uc3QgYWRkVmVydGljZXMgPSBmdW5jdGlvbih2ZXJ0LCBzdmdJZCwgcm9vdCwgZG9jLCBkaWFnT2JqLCBwYXJlbnRMb29rdXBEYiwgZ3JhcGgpIHtcbiAgY29uc3Qgc3ZnID0gcm9vdC5zZWxlY3QoYFtpZD1cIiR7c3ZnSWR9XCJdYCk7XG4gIGNvbnN0IG5vZGVzID0gc3ZnLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwibm9kZXNcIik7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2ZXJ0KTtcbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgY29uc3QgdmVydGV4ID0gdmVydFtpZF07XG4gICAgbGV0IGNsYXNzU3RyID0gXCJkZWZhdWx0XCI7XG4gICAgaWYgKHZlcnRleC5jbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNsYXNzU3RyID0gdmVydGV4LmNsYXNzZXMuam9pbihcIiBcIik7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlczIgPSBnZXRTdHlsZXNGcm9tQXJyYXkodmVydGV4LnN0eWxlcyk7XG4gICAgbGV0IHZlcnRleFRleHQgPSB2ZXJ0ZXgudGV4dCAhPT0gdm9pZCAwID8gdmVydGV4LnRleHQgOiB2ZXJ0ZXguaWQ7XG4gICAgbGV0IHZlcnRleE5vZGU7XG4gICAgY29uc3QgbGFiZWxEYXRhID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgaWYgKGV2YWx1YXRlKGdldENvbmZpZygpLmZsb3djaGFydC5odG1sTGFiZWxzKSkge1xuICAgICAgY29uc3Qgbm9kZTIgPSB7XG4gICAgICAgIGxhYmVsOiB2ZXJ0ZXhUZXh0LnJlcGxhY2UoXG4gICAgICAgICAgL2ZhW2JscnNdPzpmYS1bXFx3LV0rL2csXG4gICAgICAgICAgKHMpID0+IGA8aSBjbGFzcz0nJHtzLnJlcGxhY2UoXCI6XCIsIFwiIFwiKX0nPjwvaT5gXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgICB2ZXJ0ZXhOb2RlID0gYWRkSHRtbExhYmVsKHN2Zywgbm9kZTIpLm5vZGUoKTtcbiAgICAgIGNvbnN0IGJib3ggPSB2ZXJ0ZXhOb2RlLmdldEJCb3goKTtcbiAgICAgIGxhYmVsRGF0YS53aWR0aCA9IGJib3gud2lkdGg7XG4gICAgICBsYWJlbERhdGEuaGVpZ2h0ID0gYmJveC5oZWlnaHQ7XG4gICAgICBsYWJlbERhdGEubGFiZWxOb2RlID0gdmVydGV4Tm9kZTtcbiAgICAgIHZlcnRleE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2ZXJ0ZXhOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3ZnTGFiZWwgPSBkb2MuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJ0ZXh0XCIpO1xuICAgICAgc3ZnTGFiZWwuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgc3R5bGVzMi5sYWJlbFN0eWxlLnJlcGxhY2UoXCJjb2xvcjpcIiwgXCJmaWxsOlwiKSk7XG4gICAgICBjb25zdCByb3dzID0gdmVydGV4VGV4dC5zcGxpdChjb21tb24ubGluZUJyZWFrUmVnZXgpO1xuICAgICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgICAgICBjb25zdCB0c3BhbiA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInRzcGFuXCIpO1xuICAgICAgICB0c3Bhbi5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLCBcInhtbDpzcGFjZVwiLCBcInByZXNlcnZlXCIpO1xuICAgICAgICB0c3Bhbi5zZXRBdHRyaWJ1dGUoXCJkeVwiLCBcIjFlbVwiKTtcbiAgICAgICAgdHNwYW4uc2V0QXR0cmlidXRlKFwieFwiLCBcIjFcIik7XG4gICAgICAgIHRzcGFuLnRleHRDb250ZW50ID0gcm93O1xuICAgICAgICBzdmdMYWJlbC5hcHBlbmRDaGlsZCh0c3Bhbik7XG4gICAgICB9XG4gICAgICB2ZXJ0ZXhOb2RlID0gc3ZnTGFiZWw7XG4gICAgICBjb25zdCBiYm94ID0gdmVydGV4Tm9kZS5nZXRCQm94KCk7XG4gICAgICBsYWJlbERhdGEud2lkdGggPSBiYm94LndpZHRoO1xuICAgICAgbGFiZWxEYXRhLmhlaWdodCA9IGJib3guaGVpZ2h0O1xuICAgICAgbGFiZWxEYXRhLmxhYmVsTm9kZSA9IHZlcnRleE5vZGU7XG4gICAgfVxuICAgIGNvbnN0IHBvcnRzID0gW1xuICAgICAge1xuICAgICAgICBpZDogdmVydGV4LmlkICsgXCItd2VzdFwiLFxuICAgICAgICBsYXlvdXRPcHRpb25zOiB7XG4gICAgICAgICAgXCJwb3J0LnNpZGVcIjogXCJXRVNUXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHZlcnRleC5pZCArIFwiLWVhc3RcIixcbiAgICAgICAgbGF5b3V0T3B0aW9uczoge1xuICAgICAgICAgIFwicG9ydC5zaWRlXCI6IFwiRUFTVFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB2ZXJ0ZXguaWQgKyBcIi1zb3V0aFwiLFxuICAgICAgICBsYXlvdXRPcHRpb25zOiB7XG4gICAgICAgICAgXCJwb3J0LnNpZGVcIjogXCJTT1VUSFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB2ZXJ0ZXguaWQgKyBcIi1ub3J0aFwiLFxuICAgICAgICBsYXlvdXRPcHRpb25zOiB7XG4gICAgICAgICAgXCJwb3J0LnNpZGVcIjogXCJOT1JUSFwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGxldCByYWRpb3VzID0gMDtcbiAgICBsZXQgX3NoYXBlID0gXCJcIjtcbiAgICBsZXQgbGF5b3V0T3B0aW9ucyA9IHt9O1xuICAgIHN3aXRjaCAodmVydGV4LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJyb3VuZFwiOlxuICAgICAgICByYWRpb3VzID0gNTtcbiAgICAgICAgX3NoYXBlID0gXCJyZWN0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNxdWFyZVwiOlxuICAgICAgICBfc2hhcGUgPSBcInJlY3RcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICBfc2hhcGUgPSBcInF1ZXN0aW9uXCI7XG4gICAgICAgIGxheW91dE9wdGlvbnMgPSB7XG4gICAgICAgICAgcG9ydENvbnN0cmFpbnRzOiBcIkZJWEVEX1NJREVcIlxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJoZXhhZ29uXCI6XG4gICAgICAgIF9zaGFwZSA9IFwiaGV4YWdvblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJvZGRcIjpcbiAgICAgICAgX3NoYXBlID0gXCJyZWN0X2xlZnRfaW52X2Fycm93XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxlYW5fcmlnaHRcIjpcbiAgICAgICAgX3NoYXBlID0gXCJsZWFuX3JpZ2h0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxlYW5fbGVmdFwiOlxuICAgICAgICBfc2hhcGUgPSBcImxlYW5fbGVmdFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0cmFwZXpvaWRcIjpcbiAgICAgICAgX3NoYXBlID0gXCJ0cmFwZXpvaWRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaW52X3RyYXBlem9pZFwiOlxuICAgICAgICBfc2hhcGUgPSBcImludl90cmFwZXpvaWRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib2RkX3JpZ2h0XCI6XG4gICAgICAgIF9zaGFwZSA9IFwicmVjdF9sZWZ0X2ludl9hcnJvd1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjaXJjbGVcIjpcbiAgICAgICAgX3NoYXBlID0gXCJjaXJjbGVcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZWxsaXBzZVwiOlxuICAgICAgICBfc2hhcGUgPSBcImVsbGlwc2VcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic3RhZGl1bVwiOlxuICAgICAgICBfc2hhcGUgPSBcInN0YWRpdW1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic3Vicm91dGluZVwiOlxuICAgICAgICBfc2hhcGUgPSBcInN1YnJvdXRpbmVcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY3lsaW5kZXJcIjpcbiAgICAgICAgX3NoYXBlID0gXCJjeWxpbmRlclwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJncm91cFwiOlxuICAgICAgICBfc2hhcGUgPSBcInJlY3RcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZG91YmxlY2lyY2xlXCI6XG4gICAgICAgIF9zaGFwZSA9IFwiZG91YmxlY2lyY2xlXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgX3NoYXBlID0gXCJyZWN0XCI7XG4gICAgfVxuICAgIGNvbnN0IG5vZGUgPSB7XG4gICAgICBsYWJlbFN0eWxlOiBzdHlsZXMyLmxhYmVsU3R5bGUsXG4gICAgICBzaGFwZTogX3NoYXBlLFxuICAgICAgbGFiZWxUZXh0OiB2ZXJ0ZXhUZXh0LFxuICAgICAgcng6IHJhZGlvdXMsXG4gICAgICByeTogcmFkaW91cyxcbiAgICAgIGNsYXNzOiBjbGFzc1N0cixcbiAgICAgIHN0eWxlOiBzdHlsZXMyLnN0eWxlLFxuICAgICAgaWQ6IHZlcnRleC5pZCxcbiAgICAgIGxpbms6IHZlcnRleC5saW5rLFxuICAgICAgbGlua1RhcmdldDogdmVydGV4LmxpbmtUYXJnZXQsXG4gICAgICB0b29sdGlwOiBkaWFnT2JqLmRiLmdldFRvb2x0aXAodmVydGV4LmlkKSB8fCBcIlwiLFxuICAgICAgZG9tSWQ6IGRpYWdPYmouZGIubG9va1VwRG9tSWQodmVydGV4LmlkKSxcbiAgICAgIGhhdmVDYWxsYmFjazogdmVydGV4LmhhdmVDYWxsYmFjayxcbiAgICAgIHdpZHRoOiB2ZXJ0ZXgudHlwZSA9PT0gXCJncm91cFwiID8gNTAwIDogdm9pZCAwLFxuICAgICAgZGlyOiB2ZXJ0ZXguZGlyLFxuICAgICAgdHlwZTogdmVydGV4LnR5cGUsXG4gICAgICBwcm9wczogdmVydGV4LnByb3BzLFxuICAgICAgcGFkZGluZzogZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0LnBhZGRpbmdcbiAgICB9O1xuICAgIGxldCBib3VuZGluZ0JveDtcbiAgICBsZXQgbm9kZUVsO1xuICAgIGlmIChub2RlLnR5cGUgIT09IFwiZ3JvdXBcIikge1xuICAgICAgbm9kZUVsID0gaW5zZXJ0Tm9kZShub2Rlcywgbm9kZSwgdmVydGV4LmRpcik7XG4gICAgICBib3VuZGluZ0JveCA9IG5vZGVFbC5ub2RlKCkuZ2V0QkJveCgpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgaWQ6IHZlcnRleC5pZCxcbiAgICAgIHBvcnRzOiB2ZXJ0ZXgudHlwZSA9PT0gXCJkaWFtb25kXCIgPyBwb3J0cyA6IFtdLFxuICAgICAgLy8gbGFiZWxTdHlsZTogc3R5bGVzLmxhYmVsU3R5bGUsXG4gICAgICAvLyBzaGFwZTogX3NoYXBlLFxuICAgICAgbGF5b3V0T3B0aW9ucyxcbiAgICAgIGxhYmVsVGV4dDogdmVydGV4VGV4dCxcbiAgICAgIGxhYmVsRGF0YSxcbiAgICAgIC8vIGxhYmVsczogW3sgdGV4dDogdmVydGV4VGV4dCB9XSxcbiAgICAgIC8vIHJ4OiByYWRpdXMsXG4gICAgICAvLyByeTogcmFkaXVzLFxuICAgICAgLy8gY2xhc3M6IGNsYXNzU3RyLFxuICAgICAgLy8gc3R5bGU6IHN0eWxlcy5zdHlsZSxcbiAgICAgIC8vIGxpbms6IHZlcnRleC5saW5rLFxuICAgICAgLy8gbGlua1RhcmdldDogdmVydGV4LmxpbmtUYXJnZXQsXG4gICAgICAvLyB0b29sdGlwOiBkaWFnT2JqLmRiLmdldFRvb2x0aXAodmVydGV4LmlkKSB8fCAnJyxcbiAgICAgIGRvbUlkOiBkaWFnT2JqLmRiLmxvb2tVcERvbUlkKHZlcnRleC5pZCksXG4gICAgICAvLyBoYXZlQ2FsbGJhY2s6IHZlcnRleC5oYXZlQ2FsbGJhY2ssXG4gICAgICB3aWR0aDogYm91bmRpbmdCb3ggPT0gbnVsbCA/IHZvaWQgMCA6IGJvdW5kaW5nQm94LndpZHRoLFxuICAgICAgaGVpZ2h0OiBib3VuZGluZ0JveCA9PSBudWxsID8gdm9pZCAwIDogYm91bmRpbmdCb3guaGVpZ2h0LFxuICAgICAgLy8gZGlyOiB2ZXJ0ZXguZGlyLFxuICAgICAgdHlwZTogdmVydGV4LnR5cGUsXG4gICAgICAvLyBwcm9wczogdmVydGV4LnByb3BzLFxuICAgICAgLy8gcGFkZGluZzogZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0LnBhZGRpbmcsXG4gICAgICAvLyBib3VuZGluZ0JveCxcbiAgICAgIGVsOiBub2RlRWwsXG4gICAgICBwYXJlbnQ6IHBhcmVudExvb2t1cERiLnBhcmVudEJ5SWRbdmVydGV4LmlkXVxuICAgIH07XG4gICAgbm9kZURiW25vZGUuaWRdID0gZGF0YTtcbiAgfSk7XG4gIHJldHVybiBncmFwaDtcbn07XG5jb25zdCBnZXROZXh0UG9zaXRpb24gPSAocG9zaXRpb24sIGVkZ2VEaXJlY3Rpb24sIGdyYXBoRGlyZWN0aW9uKSA9PiB7XG4gIGNvbnN0IHBvcnRQb3MyID0ge1xuICAgIFRCOiB7XG4gICAgICBpbjoge1xuICAgICAgICBub3J0aDogXCJub3J0aFwiXG4gICAgICB9LFxuICAgICAgb3V0OiB7XG4gICAgICAgIHNvdXRoOiBcIndlc3RcIixcbiAgICAgICAgd2VzdDogXCJlYXN0XCIsXG4gICAgICAgIGVhc3Q6IFwic291dGhcIlxuICAgICAgfVxuICAgIH0sXG4gICAgTFI6IHtcbiAgICAgIGluOiB7XG4gICAgICAgIHdlc3Q6IFwid2VzdFwiXG4gICAgICB9LFxuICAgICAgb3V0OiB7XG4gICAgICAgIGVhc3Q6IFwic291dGhcIixcbiAgICAgICAgc291dGg6IFwibm9ydGhcIixcbiAgICAgICAgbm9ydGg6IFwiZWFzdFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBSTDoge1xuICAgICAgaW46IHtcbiAgICAgICAgZWFzdDogXCJlYXN0XCJcbiAgICAgIH0sXG4gICAgICBvdXQ6IHtcbiAgICAgICAgd2VzdDogXCJub3J0aFwiLFxuICAgICAgICBub3J0aDogXCJzb3V0aFwiLFxuICAgICAgICBzb3V0aDogXCJ3ZXN0XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIEJUOiB7XG4gICAgICBpbjoge1xuICAgICAgICBzb3V0aDogXCJzb3V0aFwiXG4gICAgICB9LFxuICAgICAgb3V0OiB7XG4gICAgICAgIG5vcnRoOiBcImVhc3RcIixcbiAgICAgICAgZWFzdDogXCJ3ZXN0XCIsXG4gICAgICAgIHdlc3Q6IFwibm9ydGhcIlxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcG9ydFBvczIuVEQgPSBwb3J0UG9zMi5UQjtcbiAgbG9nLmluZm8oXCJhYmM4OFwiLCBncmFwaERpcmVjdGlvbiwgZWRnZURpcmVjdGlvbiwgcG9zaXRpb24pO1xuICByZXR1cm4gcG9ydFBvczJbZ3JhcGhEaXJlY3Rpb25dW2VkZ2VEaXJlY3Rpb25dW3Bvc2l0aW9uXTtcbn07XG5jb25zdCBnZXROZXh0UG9ydCA9IChub2RlLCBlZGdlRGlyZWN0aW9uLCBncmFwaERpcmVjdGlvbikgPT4ge1xuICBsb2cuaW5mbyhcImdldE5leHRQb3J0IGFiYzg4XCIsIHsgbm9kZSwgZWRnZURpcmVjdGlvbiwgZ3JhcGhEaXJlY3Rpb24gfSk7XG4gIGlmICghcG9ydFBvc1tub2RlXSkge1xuICAgIHN3aXRjaCAoZ3JhcGhEaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJUQlwiOlxuICAgICAgY2FzZSBcIlREXCI6XG4gICAgICAgIHBvcnRQb3Nbbm9kZV0gPSB7XG4gICAgICAgICAgaW5Qb3NpdGlvbjogXCJub3J0aFwiLFxuICAgICAgICAgIG91dFBvc2l0aW9uOiBcInNvdXRoXCJcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQlRcIjpcbiAgICAgICAgcG9ydFBvc1tub2RlXSA9IHtcbiAgICAgICAgICBpblBvc2l0aW9uOiBcInNvdXRoXCIsXG4gICAgICAgICAgb3V0UG9zaXRpb246IFwibm9ydGhcIlxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJSTFwiOlxuICAgICAgICBwb3J0UG9zW25vZGVdID0ge1xuICAgICAgICAgIGluUG9zaXRpb246IFwiZWFzdFwiLFxuICAgICAgICAgIG91dFBvc2l0aW9uOiBcIndlc3RcIlxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJMUlwiOlxuICAgICAgICBwb3J0UG9zW25vZGVdID0ge1xuICAgICAgICAgIGluUG9zaXRpb246IFwid2VzdFwiLFxuICAgICAgICAgIG91dFBvc2l0aW9uOiBcImVhc3RcIlxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gZWRnZURpcmVjdGlvbiA9PT0gXCJpblwiID8gcG9ydFBvc1tub2RlXS5pblBvc2l0aW9uIDogcG9ydFBvc1tub2RlXS5vdXRQb3NpdGlvbjtcbiAgaWYgKGVkZ2VEaXJlY3Rpb24gPT09IFwiaW5cIikge1xuICAgIHBvcnRQb3Nbbm9kZV0uaW5Qb3NpdGlvbiA9IGdldE5leHRQb3NpdGlvbihcbiAgICAgIHBvcnRQb3Nbbm9kZV0uaW5Qb3NpdGlvbixcbiAgICAgIGVkZ2VEaXJlY3Rpb24sXG4gICAgICBncmFwaERpcmVjdGlvblxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcG9ydFBvc1tub2RlXS5vdXRQb3NpdGlvbiA9IGdldE5leHRQb3NpdGlvbihcbiAgICAgIHBvcnRQb3Nbbm9kZV0ub3V0UG9zaXRpb24sXG4gICAgICBlZGdlRGlyZWN0aW9uLFxuICAgICAgZ3JhcGhEaXJlY3Rpb25cbiAgICApO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuY29uc3QgZ2V0RWRnZVN0YXJ0RW5kUG9pbnQgPSAoZWRnZSwgZGlyKSA9PiB7XG4gIGxldCBzb3VyY2UgPSBlZGdlLnN0YXJ0O1xuICBsZXQgdGFyZ2V0ID0gZWRnZS5lbmQ7XG4gIGNvbnN0IHN0YXJ0Tm9kZSA9IG5vZGVEYltzb3VyY2VdO1xuICBjb25zdCBlbmROb2RlID0gbm9kZURiW3RhcmdldF07XG4gIGlmICghc3RhcnROb2RlIHx8ICFlbmROb2RlKSB7XG4gICAgcmV0dXJuIHsgc291cmNlLCB0YXJnZXQgfTtcbiAgfVxuICBpZiAoc3RhcnROb2RlLnR5cGUgPT09IFwiZGlhbW9uZFwiKSB7XG4gICAgc291cmNlID0gYCR7c291cmNlfS0ke2dldE5leHRQb3J0KHNvdXJjZSwgXCJvdXRcIiwgZGlyKX1gO1xuICB9XG4gIGlmIChlbmROb2RlLnR5cGUgPT09IFwiZGlhbW9uZFwiKSB7XG4gICAgdGFyZ2V0ID0gYCR7dGFyZ2V0fS0ke2dldE5leHRQb3J0KHRhcmdldCwgXCJpblwiLCBkaXIpfWA7XG4gIH1cbiAgcmV0dXJuIHsgc291cmNlLCB0YXJnZXQgfTtcbn07XG5jb25zdCBhZGRFZGdlcyA9IGZ1bmN0aW9uKGVkZ2VzLCBkaWFnT2JqLCBncmFwaCwgc3ZnKSB7XG4gIGxvZy5pbmZvKFwiYWJjNzggZWRnZXMgPSBcIiwgZWRnZXMpO1xuICBjb25zdCBsYWJlbHNFbCA9IHN2Zy5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImVkZ2VMYWJlbHNcIik7XG4gIGxldCBsaW5rSWRDbnQgPSB7fTtcbiAgbGV0IGRpciA9IGRpYWdPYmouZGIuZ2V0RGlyZWN0aW9uKCk7XG4gIGxldCBkZWZhdWx0U3R5bGU7XG4gIGxldCBkZWZhdWx0TGFiZWxTdHlsZTtcbiAgaWYgKGVkZ2VzLmRlZmF1bHRTdHlsZSAhPT0gdm9pZCAwKSB7XG4gICAgY29uc3QgZGVmYXVsdFN0eWxlcyA9IGdldFN0eWxlc0Zyb21BcnJheShlZGdlcy5kZWZhdWx0U3R5bGUpO1xuICAgIGRlZmF1bHRTdHlsZSA9IGRlZmF1bHRTdHlsZXMuc3R5bGU7XG4gICAgZGVmYXVsdExhYmVsU3R5bGUgPSBkZWZhdWx0U3R5bGVzLmxhYmVsU3R5bGU7XG4gIH1cbiAgZWRnZXMuZm9yRWFjaChmdW5jdGlvbihlZGdlKSB7XG4gICAgdmFyIGxpbmtJZEJhc2UgPSBcIkwtXCIgKyBlZGdlLnN0YXJ0ICsgXCItXCIgKyBlZGdlLmVuZDtcbiAgICBpZiAobGlua0lkQ250W2xpbmtJZEJhc2VdID09PSB2b2lkIDApIHtcbiAgICAgIGxpbmtJZENudFtsaW5rSWRCYXNlXSA9IDA7XG4gICAgICBsb2cuaW5mbyhcImFiYzc4IG5ldyBlbnRyeVwiLCBsaW5rSWRCYXNlLCBsaW5rSWRDbnRbbGlua0lkQmFzZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5rSWRDbnRbbGlua0lkQmFzZV0rKztcbiAgICAgIGxvZy5pbmZvKFwiYWJjNzggbmV3IGVudHJ5XCIsIGxpbmtJZEJhc2UsIGxpbmtJZENudFtsaW5rSWRCYXNlXSk7XG4gICAgfVxuICAgIGxldCBsaW5rSWQgPSBsaW5rSWRCYXNlICsgXCItXCIgKyBsaW5rSWRDbnRbbGlua0lkQmFzZV07XG4gICAgbG9nLmluZm8oXCJhYmM3OCBuZXcgbGluayBpZCB0byBiZSB1c2VkIGlzXCIsIGxpbmtJZEJhc2UsIGxpbmtJZCwgbGlua0lkQ250W2xpbmtJZEJhc2VdKTtcbiAgICB2YXIgbGlua05hbWVTdGFydCA9IFwiTFMtXCIgKyBlZGdlLnN0YXJ0O1xuICAgIHZhciBsaW5rTmFtZUVuZCA9IFwiTEUtXCIgKyBlZGdlLmVuZDtcbiAgICBjb25zdCBlZGdlRGF0YSA9IHsgc3R5bGU6IFwiXCIsIGxhYmVsU3R5bGU6IFwiXCIgfTtcbiAgICBlZGdlRGF0YS5taW5sZW4gPSBlZGdlLmxlbmd0aCB8fCAxO1xuICAgIGlmIChlZGdlLnR5cGUgPT09IFwiYXJyb3dfb3BlblwiKSB7XG4gICAgICBlZGdlRGF0YS5hcnJvd2hlYWQgPSBcIm5vbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgZWRnZURhdGEuYXJyb3doZWFkID0gXCJub3JtYWxcIjtcbiAgICB9XG4gICAgZWRnZURhdGEuYXJyb3dUeXBlU3RhcnQgPSBcImFycm93X29wZW5cIjtcbiAgICBlZGdlRGF0YS5hcnJvd1R5cGVFbmQgPSBcImFycm93X29wZW5cIjtcbiAgICBzd2l0Y2ggKGVkZ2UudHlwZSkge1xuICAgICAgY2FzZSBcImRvdWJsZV9hcnJvd19jcm9zc1wiOlxuICAgICAgICBlZGdlRGF0YS5hcnJvd1R5cGVTdGFydCA9IFwiYXJyb3dfY3Jvc3NcIjtcbiAgICAgIGNhc2UgXCJhcnJvd19jcm9zc1wiOlxuICAgICAgICBlZGdlRGF0YS5hcnJvd1R5cGVFbmQgPSBcImFycm93X2Nyb3NzXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvdWJsZV9hcnJvd19wb2ludFwiOlxuICAgICAgICBlZGdlRGF0YS5hcnJvd1R5cGVTdGFydCA9IFwiYXJyb3dfcG9pbnRcIjtcbiAgICAgIGNhc2UgXCJhcnJvd19wb2ludFwiOlxuICAgICAgICBlZGdlRGF0YS5hcnJvd1R5cGVFbmQgPSBcImFycm93X3BvaW50XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvdWJsZV9hcnJvd19jaXJjbGVcIjpcbiAgICAgICAgZWRnZURhdGEuYXJyb3dUeXBlU3RhcnQgPSBcImFycm93X2NpcmNsZVwiO1xuICAgICAgY2FzZSBcImFycm93X2NpcmNsZVwiOlxuICAgICAgICBlZGdlRGF0YS5hcnJvd1R5cGVFbmQgPSBcImFycm93X2NpcmNsZVwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IHN0eWxlID0gXCJcIjtcbiAgICBsZXQgbGFiZWxTdHlsZSA9IFwiXCI7XG4gICAgc3dpdGNoIChlZGdlLnN0cm9rZSkge1xuICAgICAgY2FzZSBcIm5vcm1hbFwiOlxuICAgICAgICBzdHlsZSA9IFwiZmlsbDpub25lO1wiO1xuICAgICAgICBpZiAoZGVmYXVsdFN0eWxlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBzdHlsZSA9IGRlZmF1bHRTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdExhYmVsU3R5bGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGxhYmVsU3R5bGUgPSBkZWZhdWx0TGFiZWxTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlZGdlRGF0YS50aGlja25lc3MgPSBcIm5vcm1hbFwiO1xuICAgICAgICBlZGdlRGF0YS5wYXR0ZXJuID0gXCJzb2xpZFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb3R0ZWRcIjpcbiAgICAgICAgZWRnZURhdGEudGhpY2tuZXNzID0gXCJub3JtYWxcIjtcbiAgICAgICAgZWRnZURhdGEucGF0dGVybiA9IFwiZG90dGVkXCI7XG4gICAgICAgIGVkZ2VEYXRhLnN0eWxlID0gXCJmaWxsOm5vbmU7c3Ryb2tlLXdpZHRoOjJweDtzdHJva2UtZGFzaGFycmF5OjM7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRoaWNrXCI6XG4gICAgICAgIGVkZ2VEYXRhLnRoaWNrbmVzcyA9IFwidGhpY2tcIjtcbiAgICAgICAgZWRnZURhdGEucGF0dGVybiA9IFwic29saWRcIjtcbiAgICAgICAgZWRnZURhdGEuc3R5bGUgPSBcInN0cm9rZS13aWR0aDogMy41cHg7ZmlsbDpub25lO1wiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGVkZ2Uuc3R5bGUgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qgc3R5bGVzMiA9IGdldFN0eWxlc0Zyb21BcnJheShlZGdlLnN0eWxlKTtcbiAgICAgIHN0eWxlID0gc3R5bGVzMi5zdHlsZTtcbiAgICAgIGxhYmVsU3R5bGUgPSBzdHlsZXMyLmxhYmVsU3R5bGU7XG4gICAgfVxuICAgIGVkZ2VEYXRhLnN0eWxlID0gZWRnZURhdGEuc3R5bGUgKz0gc3R5bGU7XG4gICAgZWRnZURhdGEubGFiZWxTdHlsZSA9IGVkZ2VEYXRhLmxhYmVsU3R5bGUgKz0gbGFiZWxTdHlsZTtcbiAgICBpZiAoZWRnZS5pbnRlcnBvbGF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICBlZGdlRGF0YS5jdXJ2ZSA9IGludGVycG9sYXRlVG9DdXJ2ZShlZGdlLmludGVycG9sYXRlLCBjdXJ2ZUxpbmVhcik7XG4gICAgfSBlbHNlIGlmIChlZGdlcy5kZWZhdWx0SW50ZXJwb2xhdGUgIT09IHZvaWQgMCkge1xuICAgICAgZWRnZURhdGEuY3VydmUgPSBpbnRlcnBvbGF0ZVRvQ3VydmUoZWRnZXMuZGVmYXVsdEludGVycG9sYXRlLCBjdXJ2ZUxpbmVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkZ2VEYXRhLmN1cnZlID0gaW50ZXJwb2xhdGVUb0N1cnZlKGNvbmYuY3VydmUsIGN1cnZlTGluZWFyKTtcbiAgICB9XG4gICAgaWYgKGVkZ2UudGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoZWRnZS5zdHlsZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGVkZ2VEYXRhLmFycm93aGVhZFN0eWxlID0gXCJmaWxsOiAjMzMzXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkZ2VEYXRhLmFycm93aGVhZFN0eWxlID0gXCJmaWxsOiAjMzMzXCI7XG4gICAgICBlZGdlRGF0YS5sYWJlbHBvcyA9IFwiY1wiO1xuICAgIH1cbiAgICBlZGdlRGF0YS5sYWJlbFR5cGUgPSBcInRleHRcIjtcbiAgICBlZGdlRGF0YS5sYWJlbCA9IGVkZ2UudGV4dC5yZXBsYWNlKGNvbW1vbi5saW5lQnJlYWtSZWdleCwgXCJcXG5cIik7XG4gICAgaWYgKGVkZ2Uuc3R5bGUgPT09IHZvaWQgMCkge1xuICAgICAgZWRnZURhdGEuc3R5bGUgPSBlZGdlRGF0YS5zdHlsZSB8fCBcInN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmU7XCI7XG4gICAgfVxuICAgIGVkZ2VEYXRhLmxhYmVsU3R5bGUgPSBlZGdlRGF0YS5sYWJlbFN0eWxlLnJlcGxhY2UoXCJjb2xvcjpcIiwgXCJmaWxsOlwiKTtcbiAgICBlZGdlRGF0YS5pZCA9IGxpbmtJZDtcbiAgICBlZGdlRGF0YS5jbGFzc2VzID0gXCJmbG93Y2hhcnQtbGluayBcIiArIGxpbmtOYW1lU3RhcnQgKyBcIiBcIiArIGxpbmtOYW1lRW5kO1xuICAgIGNvbnN0IGxhYmVsRWwgPSBpbnNlcnRFZGdlTGFiZWwobGFiZWxzRWwsIGVkZ2VEYXRhKTtcbiAgICBjb25zdCB7IHNvdXJjZSwgdGFyZ2V0IH0gPSBnZXRFZGdlU3RhcnRFbmRQb2ludChlZGdlLCBkaXIpO1xuICAgIGxvZy5kZWJ1ZyhcImFiYzc4IHNvdXJjZSBhbmQgdGFyZ2V0XCIsIHNvdXJjZSwgdGFyZ2V0KTtcbiAgICBncmFwaC5lZGdlcy5wdXNoKHtcbiAgICAgIGlkOiBcImVcIiArIGVkZ2Uuc3RhcnQgKyBlZGdlLmVuZCxcbiAgICAgIHNvdXJjZXM6IFtzb3VyY2VdLFxuICAgICAgdGFyZ2V0czogW3RhcmdldF0sXG4gICAgICBsYWJlbEVsLFxuICAgICAgbGFiZWxzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB3aWR0aDogZWRnZURhdGEud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBlZGdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgb3JnV2lkdGg6IGVkZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIG9yZ0hlaWdodDogZWRnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgIHRleHQ6IGVkZ2VEYXRhLmxhYmVsLFxuICAgICAgICAgIGxheW91dE9wdGlvbnM6IHtcbiAgICAgICAgICAgIFwiZWRnZUxhYmVscy5pbmxpbmVcIjogXCJ0cnVlXCIsXG4gICAgICAgICAgICBcImVkZ2VMYWJlbHMucGxhY2VtZW50XCI6IFwiQ0VOVEVSXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBlZGdlRGF0YVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGdyYXBoO1xufTtcbmNvbnN0IGFkZE1hcmtlcnNUb0VkZ2UgPSBmdW5jdGlvbihzdmdQYXRoLCBlZGdlRGF0YSwgZGlhZ3JhbVR5cGUsIGFycm93TWFya2VyQWJzb2x1dGUpIHtcbiAgbGV0IHVybCA9IFwiXCI7XG4gIGlmIChhcnJvd01hcmtlckFic29sdXRlKSB7XG4gICAgdXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXCgvZywgXCJcXFxcKFwiKTtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFwpL2csIFwiXFxcXClcIik7XG4gIH1cbiAgc3dpdGNoIChlZGdlRGF0YS5hcnJvd1R5cGVTdGFydCkge1xuICAgIGNhc2UgXCJhcnJvd19jcm9zc1wiOlxuICAgICAgc3ZnUGF0aC5hdHRyKFwibWFya2VyLXN0YXJ0XCIsIFwidXJsKFwiICsgdXJsICsgXCIjXCIgKyBkaWFncmFtVHlwZSArIFwiLWNyb3NzU3RhcnQpXCIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImFycm93X3BvaW50XCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItc3RhcnRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItcG9pbnRTdGFydClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXJyb3dfYmFyYlwiOlxuICAgICAgc3ZnUGF0aC5hdHRyKFwibWFya2VyLXN0YXJ0XCIsIFwidXJsKFwiICsgdXJsICsgXCIjXCIgKyBkaWFncmFtVHlwZSArIFwiLWJhcmJTdGFydClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXJyb3dfY2lyY2xlXCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItc3RhcnRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItY2lyY2xlU3RhcnQpXCIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImFnZ3JlZ2F0aW9uXCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItc3RhcnRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItYWdncmVnYXRpb25TdGFydClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZXh0ZW5zaW9uXCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItc3RhcnRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItZXh0ZW5zaW9uU3RhcnQpXCIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNvbXBvc2l0aW9uXCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItc3RhcnRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItY29tcG9zaXRpb25TdGFydClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZGVwZW5kZW5jeVwiOlxuICAgICAgc3ZnUGF0aC5hdHRyKFwibWFya2VyLXN0YXJ0XCIsIFwidXJsKFwiICsgdXJsICsgXCIjXCIgKyBkaWFncmFtVHlwZSArIFwiLWRlcGVuZGVuY3lTdGFydClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibG9sbGlwb3BcIjpcbiAgICAgIHN2Z1BhdGguYXR0cihcIm1hcmtlci1zdGFydFwiLCBcInVybChcIiArIHVybCArIFwiI1wiICsgZGlhZ3JhbVR5cGUgKyBcIi1sb2xsaXBvcFN0YXJ0KVwiKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHN3aXRjaCAoZWRnZURhdGEuYXJyb3dUeXBlRW5kKSB7XG4gICAgY2FzZSBcImFycm93X2Nyb3NzXCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItZW5kXCIsIFwidXJsKFwiICsgdXJsICsgXCIjXCIgKyBkaWFncmFtVHlwZSArIFwiLWNyb3NzRW5kKVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJhcnJvd19wb2ludFwiOlxuICAgICAgc3ZnUGF0aC5hdHRyKFwibWFya2VyLWVuZFwiLCBcInVybChcIiArIHVybCArIFwiI1wiICsgZGlhZ3JhbVR5cGUgKyBcIi1wb2ludEVuZClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXJyb3dfYmFyYlwiOlxuICAgICAgc3ZnUGF0aC5hdHRyKFwibWFya2VyLWVuZFwiLCBcInVybChcIiArIHVybCArIFwiI1wiICsgZGlhZ3JhbVR5cGUgKyBcIi1iYXJiRW5kKVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJhcnJvd19jaXJjbGVcIjpcbiAgICAgIHN2Z1BhdGguYXR0cihcIm1hcmtlci1lbmRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItY2lyY2xlRW5kKVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJhZ2dyZWdhdGlvblwiOlxuICAgICAgc3ZnUGF0aC5hdHRyKFwibWFya2VyLWVuZFwiLCBcInVybChcIiArIHVybCArIFwiI1wiICsgZGlhZ3JhbVR5cGUgKyBcIi1hZ2dyZWdhdGlvbkVuZClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZXh0ZW5zaW9uXCI6XG4gICAgICBzdmdQYXRoLmF0dHIoXCJtYXJrZXItZW5kXCIsIFwidXJsKFwiICsgdXJsICsgXCIjXCIgKyBkaWFncmFtVHlwZSArIFwiLWV4dGVuc2lvbkVuZClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY29tcG9zaXRpb25cIjpcbiAgICAgIHN2Z1BhdGguYXR0cihcIm1hcmtlci1lbmRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItY29tcG9zaXRpb25FbmQpXCIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImRlcGVuZGVuY3lcIjpcbiAgICAgIHN2Z1BhdGguYXR0cihcIm1hcmtlci1lbmRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItZGVwZW5kZW5jeUVuZClcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibG9sbGlwb3BcIjpcbiAgICAgIHN2Z1BhdGguYXR0cihcIm1hcmtlci1lbmRcIiwgXCJ1cmwoXCIgKyB1cmwgKyBcIiNcIiArIGRpYWdyYW1UeXBlICsgXCItbG9sbGlwb3BFbmQpXCIpO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5jb25zdCBnZXRDbGFzc2VzID0gZnVuY3Rpb24odGV4dCwgZGlhZ09iaikge1xuICBsb2cuaW5mbyhcIkV4dHJhY3RpbmcgY2xhc3Nlc1wiKTtcbiAgZGlhZ09iai5kYi5jbGVhcihcInZlci0yXCIpO1xuICB0cnkge1xuICAgIGRpYWdPYmoucGFyc2UodGV4dCk7XG4gICAgcmV0dXJuIGRpYWdPYmouZGIuZ2V0Q2xhc3NlcygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuY29uc3QgYWRkU3ViR3JhcGhzID0gZnVuY3Rpb24oZGIyKSB7XG4gIGNvbnN0IHBhcmVudExvb2t1cERiID0geyBwYXJlbnRCeUlkOiB7fSwgY2hpbGRyZW5CeUlkOiB7fSB9O1xuICBjb25zdCBzdWJncmFwaHMgPSBkYjIuZ2V0U3ViR3JhcGhzKCk7XG4gIGxvZy5pbmZvKFwiU3ViZ3JhcGhzIC0gXCIsIHN1YmdyYXBocyk7XG4gIHN1YmdyYXBocy5mb3JFYWNoKGZ1bmN0aW9uKHN1YmdyYXBoKSB7XG4gICAgc3ViZ3JhcGgubm9kZXMuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICBwYXJlbnRMb29rdXBEYi5wYXJlbnRCeUlkW25vZGVdID0gc3ViZ3JhcGguaWQ7XG4gICAgICBpZiAocGFyZW50TG9va3VwRGIuY2hpbGRyZW5CeUlkW3N1YmdyYXBoLmlkXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHBhcmVudExvb2t1cERiLmNoaWxkcmVuQnlJZFtzdWJncmFwaC5pZF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHBhcmVudExvb2t1cERiLmNoaWxkcmVuQnlJZFtzdWJncmFwaC5pZF0ucHVzaChub2RlKTtcbiAgICB9KTtcbiAgfSk7XG4gIHN1YmdyYXBocy5mb3JFYWNoKGZ1bmN0aW9uKHN1YmdyYXBoKSB7XG4gICAgKHsgaWQ6IHN1YmdyYXBoLmlkIH0pO1xuICAgIGlmIChwYXJlbnRMb29rdXBEYi5wYXJlbnRCeUlkW3N1YmdyYXBoLmlkXSAhPT0gdm9pZCAwKSB7XG4gICAgICBwYXJlbnRMb29rdXBEYi5wYXJlbnRCeUlkW3N1YmdyYXBoLmlkXTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcGFyZW50TG9va3VwRGI7XG59O1xuY29uc3QgY2FsY09mZnNldCA9IGZ1bmN0aW9uKHNyYywgZGVzdCwgcGFyZW50TG9va3VwRGIpIHtcbiAgY29uc3QgYW5jZXN0b3IgPSBmaW5kQ29tbW9uQW5jZXN0b3Ioc3JjLCBkZXN0LCBwYXJlbnRMb29rdXBEYik7XG4gIGlmIChhbmNlc3RvciA9PT0gdm9pZCAwIHx8IGFuY2VzdG9yID09PSBcInJvb3RcIikge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgfVxuICBjb25zdCBhbmNlc3Rvck9mZnNldCA9IG5vZGVEYlthbmNlc3Rvcl0ub2Zmc2V0O1xuICByZXR1cm4geyB4OiBhbmNlc3Rvck9mZnNldC5wb3NYLCB5OiBhbmNlc3Rvck9mZnNldC5wb3NZIH07XG59O1xuY29uc3QgaW5zZXJ0RWRnZSA9IGZ1bmN0aW9uKGVkZ2VzRWwsIGVkZ2UsIGVkZ2VEYXRhLCBkaWFnT2JqLCBwYXJlbnRMb29rdXBEYikge1xuICBjb25zdCBvZmZzZXQgPSBjYWxjT2Zmc2V0KGVkZ2Uuc291cmNlc1swXSwgZWRnZS50YXJnZXRzWzBdLCBwYXJlbnRMb29rdXBEYik7XG4gIGNvbnN0IHNyYyA9IGVkZ2Uuc2VjdGlvbnNbMF0uc3RhcnRQb2ludDtcbiAgY29uc3QgZGVzdCA9IGVkZ2Uuc2VjdGlvbnNbMF0uZW5kUG9pbnQ7XG4gIGNvbnN0IHNlZ21lbnRzID0gZWRnZS5zZWN0aW9uc1swXS5iZW5kUG9pbnRzID8gZWRnZS5zZWN0aW9uc1swXS5iZW5kUG9pbnRzIDogW107XG4gIGNvbnN0IHNlZ1BvaW50cyA9IHNlZ21lbnRzLm1hcCgoc2VnbWVudCkgPT4gW3NlZ21lbnQueCArIG9mZnNldC54LCBzZWdtZW50LnkgKyBvZmZzZXQueV0pO1xuICBjb25zdCBwb2ludHMgPSBbXG4gICAgW3NyYy54ICsgb2Zmc2V0LngsIHNyYy55ICsgb2Zmc2V0LnldLFxuICAgIC4uLnNlZ1BvaW50cyxcbiAgICBbZGVzdC54ICsgb2Zmc2V0LngsIGRlc3QueSArIG9mZnNldC55XVxuICBdO1xuICBjb25zdCBjdXJ2ZSA9IGxpbmUoKS5jdXJ2ZShjdXJ2ZUxpbmVhcik7XG4gIGNvbnN0IGVkZ2VQYXRoID0gZWRnZXNFbC5pbnNlcnQoXCJwYXRoXCIpLmF0dHIoXCJkXCIsIGN1cnZlKHBvaW50cykpLmF0dHIoXCJjbGFzc1wiLCBcInBhdGhcIikuYXR0cihcImZpbGxcIiwgXCJub25lXCIpO1xuICBjb25zdCBlZGdlRyA9IGVkZ2VzRWwuaW5zZXJ0KFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJlZGdlTGFiZWxcIik7XG4gIGNvbnN0IGVkZ2VXaXRoTGFiZWwgPSBzZWxlY3QoZWRnZUcubm9kZSgpLmFwcGVuZENoaWxkKGVkZ2UubGFiZWxFbCkpO1xuICBjb25zdCBib3ggPSBlZGdlV2l0aExhYmVsLm5vZGUoKS5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBlZGdlV2l0aExhYmVsLmF0dHIoXCJ3aWR0aFwiLCBib3gud2lkdGgpO1xuICBlZGdlV2l0aExhYmVsLmF0dHIoXCJoZWlnaHRcIiwgYm94LmhlaWdodCk7XG4gIGVkZ2VHLmF0dHIoXG4gICAgXCJ0cmFuc2Zvcm1cIixcbiAgICBgdHJhbnNsYXRlKCR7ZWRnZS5sYWJlbHNbMF0ueCArIG9mZnNldC54fSwgJHtlZGdlLmxhYmVsc1swXS55ICsgb2Zmc2V0Lnl9KWBcbiAgKTtcbiAgYWRkTWFya2Vyc1RvRWRnZShlZGdlUGF0aCwgZWRnZURhdGEsIGRpYWdPYmoudHlwZSwgZGlhZ09iai5hcnJvd01hcmtlckFic29sdXRlKTtcbn07XG5jb25zdCBpbnNlcnRDaGlsZHJlbiA9IChub2RlQXJyYXksIHBhcmVudExvb2t1cERiKSA9PiB7XG4gIG5vZGVBcnJheS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgaWYgKCFub2RlLmNoaWxkcmVuKSB7XG4gICAgICBub2RlLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkSWRzID0gcGFyZW50TG9va3VwRGIuY2hpbGRyZW5CeUlkW25vZGUuaWRdO1xuICAgIGlmIChjaGlsZElkcykge1xuICAgICAgY2hpbGRJZHMuZm9yRWFjaCgoY2hpbGRJZCkgPT4ge1xuICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2gobm9kZURiW2NoaWxkSWRdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpbnNlcnRDaGlsZHJlbihub2RlLmNoaWxkcmVuLCBwYXJlbnRMb29rdXBEYik7XG4gIH0pO1xufTtcbmNvbnN0IGRyYXcgPSBhc3luYyBmdW5jdGlvbih0ZXh0LCBpZCwgX3ZlcnNpb24sIGRpYWdPYmopIHtcbiAgdmFyIF9hO1xuICBpZiAoIWVsaykge1xuICAgIGNvbnN0IEVMSyA9IChhd2FpdCBpbXBvcnQoXCJlbGtqcy9saWIvZWxrLmJ1bmRsZWQuanNcIikpLmRlZmF1bHQ7XG4gICAgZWxrID0gbmV3IEVMSygpO1xuICB9XG4gIGRpYWdPYmouZGIuY2xlYXIoKTtcbiAgbm9kZURiID0ge307XG4gIGRpYWdPYmouZGIuc2V0R2VuKFwiZ2VuLTJcIik7XG4gIGRpYWdPYmoucGFyc2VyLnBhcnNlKHRleHQpO1xuICBjb25zdCByZW5kZXJFbCA9IHNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJzdHlsZVwiLCBcImhlaWdodDo0MDBweFwiKS5hdHRyKFwiaWRcIiwgXCJjeVwiKTtcbiAgbGV0IGdyYXBoID0ge1xuICAgIGlkOiBcInJvb3RcIixcbiAgICBsYXlvdXRPcHRpb25zOiB7XG4gICAgICBcImVsay5oaWVyYXJjaHlIYW5kbGluZ1wiOiBcIklOQ0xVREVfQ0hJTERSRU5cIixcbiAgICAgIFwib3JnLmVjbGlwc2UuZWxrLnBhZGRpbmdcIjogXCJbdG9wPTEwMCwgbGVmdD0xMDAsIGJvdHRvbT0xMTAsIHJpZ2h0PTExMF1cIixcbiAgICAgIFwiZWxrLmxheWVyZWQuc3BhY2luZy5lZGdlTm9kZUJldHdlZW5MYXllcnNcIjogXCIzMFwiLFxuICAgICAgLy8gJ2Vsay5sYXllcmVkLm1lcmdlRWRnZXMnOiAndHJ1ZScsXG4gICAgICBcImVsay5kaXJlY3Rpb25cIjogXCJET1dOXCJcbiAgICAgIC8vICdlbGsucG9ydHMuc2FtZUxheWVyRWRnZXMnOiB0cnVlLFxuICAgICAgLy8gJ25vZGVQbGFjZW1lbnQuc3RyYXRlZ3knOiAnU0lNUExFJyxcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBlZGdlczogW11cbiAgfTtcbiAgbG9nLmluZm8oXCJEcmF3aW5nIGZsb3djaGFydCB1c2luZyB2MyByZW5kZXJlclwiLCBlbGspO1xuICBsZXQgZGlyID0gZGlhZ09iai5kYi5nZXREaXJlY3Rpb24oKTtcbiAgc3dpdGNoIChkaXIpIHtcbiAgICBjYXNlIFwiQlRcIjpcbiAgICAgIGdyYXBoLmxheW91dE9wdGlvbnNbXCJlbGsuZGlyZWN0aW9uXCJdID0gXCJVUFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlRCXCI6XG4gICAgICBncmFwaC5sYXlvdXRPcHRpb25zW1wiZWxrLmRpcmVjdGlvblwiXSA9IFwiRE9XTlwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkxSXCI6XG4gICAgICBncmFwaC5sYXlvdXRPcHRpb25zW1wiZWxrLmRpcmVjdGlvblwiXSA9IFwiUklHSFRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJSTFwiOlxuICAgICAgZ3JhcGgubGF5b3V0T3B0aW9uc1tcImVsay5kaXJlY3Rpb25cIl0gPSBcIkxFRlRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGNvbnN0IHsgc2VjdXJpdHlMZXZlbCwgZmxvd2NoYXJ0OiBjb25mMiB9ID0gZ2V0Q29uZmlnKCk7XG4gIGxldCBzYW5kYm94RWxlbWVudDtcbiAgaWYgKHNlY3VyaXR5TGV2ZWwgPT09IFwic2FuZGJveFwiKSB7XG4gICAgc2FuZGJveEVsZW1lbnQgPSBzZWxlY3QoXCIjaVwiICsgaWQpO1xuICB9XG4gIGNvbnN0IHJvb3QgPSBzZWN1cml0eUxldmVsID09PSBcInNhbmRib3hcIiA/IHNlbGVjdChzYW5kYm94RWxlbWVudC5ub2RlcygpWzBdLmNvbnRlbnREb2N1bWVudC5ib2R5KSA6IHNlbGVjdChcImJvZHlcIik7XG4gIGNvbnN0IGRvYyA9IHNlY3VyaXR5TGV2ZWwgPT09IFwic2FuZGJveFwiID8gc2FuZGJveEVsZW1lbnQubm9kZXMoKVswXS5jb250ZW50RG9jdW1lbnQgOiBkb2N1bWVudDtcbiAgY29uc3Qgc3ZnID0gcm9vdC5zZWxlY3QoYFtpZD1cIiR7aWR9XCJdYCk7XG4gIGNvbnN0IG1hcmtlcnMgPSBbXCJwb2ludFwiLCBcImNpcmNsZVwiLCBcImNyb3NzXCJdO1xuICBpbnNlcnRNYXJrZXJzKHN2ZywgbWFya2VycywgZGlhZ09iai50eXBlLCBkaWFnT2JqLmFycm93TWFya2VyQWJzb2x1dGUpO1xuICBjb25zdCB2ZXJ0ID0gZGlhZ09iai5kYi5nZXRWZXJ0aWNlcygpO1xuICBsZXQgc3ViRztcbiAgY29uc3Qgc3ViR3JhcGhzID0gZGlhZ09iai5kYi5nZXRTdWJHcmFwaHMoKTtcbiAgbG9nLmluZm8oXCJTdWJncmFwaHMgLSBcIiwgc3ViR3JhcGhzKTtcbiAgZm9yIChsZXQgaSA9IHN1YkdyYXBocy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHN1YkcgPSBzdWJHcmFwaHNbaV07XG4gICAgZGlhZ09iai5kYi5hZGRWZXJ0ZXgoc3ViRy5pZCwgc3ViRy50aXRsZSwgXCJncm91cFwiLCB2b2lkIDAsIHN1YkcuY2xhc3Nlcywgc3ViRy5kaXIpO1xuICB9XG4gIGNvbnN0IHN1YkdyYXBoc0VsID0gc3ZnLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwic3ViZ3JhcGhzXCIpO1xuICBjb25zdCBwYXJlbnRMb29rdXBEYiA9IGFkZFN1YkdyYXBocyhkaWFnT2JqLmRiKTtcbiAgZ3JhcGggPSBhZGRWZXJ0aWNlcyh2ZXJ0LCBpZCwgcm9vdCwgZG9jLCBkaWFnT2JqLCBwYXJlbnRMb29rdXBEYiwgZ3JhcGgpO1xuICBjb25zdCBlZGdlc0VsID0gc3ZnLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiZWRnZXMgZWRnZVBhdGhcIik7XG4gIGNvbnN0IGVkZ2VzID0gZGlhZ09iai5kYi5nZXRFZGdlcygpO1xuICBncmFwaCA9IGFkZEVkZ2VzKGVkZ2VzLCBkaWFnT2JqLCBncmFwaCwgc3ZnKTtcbiAgY29uc3Qgbm9kZXMgPSBPYmplY3Qua2V5cyhub2RlRGIpO1xuICBub2Rlcy5mb3JFYWNoKChub2RlSWQpID0+IHtcbiAgICBjb25zdCBub2RlID0gbm9kZURiW25vZGVJZF07XG4gICAgaWYgKCFub2RlLnBhcmVudCkge1xuICAgICAgZ3JhcGguY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICB9XG4gICAgaWYgKHBhcmVudExvb2t1cERiLmNoaWxkcmVuQnlJZFtub2RlSWRdICE9PSB2b2lkIDApIHtcbiAgICAgIG5vZGUubGFiZWxzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogbm9kZS5sYWJlbFRleHQsXG4gICAgICAgICAgbGF5b3V0T3B0aW9uczoge1xuICAgICAgICAgICAgXCJub2RlTGFiZWxzLnBsYWNlbWVudFwiOiBcIltIX0NFTlRFUiwgVl9UT1AsIElOU0lERV1cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2lkdGg6IG5vZGUubGFiZWxEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogbm9kZS5sYWJlbERhdGEuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgICBkZWxldGUgbm9kZS54O1xuICAgICAgZGVsZXRlIG5vZGUueTtcbiAgICAgIGRlbGV0ZSBub2RlLndpZHRoO1xuICAgICAgZGVsZXRlIG5vZGUuaGVpZ2h0O1xuICAgIH1cbiAgfSk7XG4gIGluc2VydENoaWxkcmVuKGdyYXBoLmNoaWxkcmVuLCBwYXJlbnRMb29rdXBEYik7XG4gIGxvZy5pbmZvKFwiYWZ0ZXIgbGF5b3V0XCIsIEpTT04uc3RyaW5naWZ5KGdyYXBoLCBudWxsLCAyKSk7XG4gIGNvbnN0IGcgPSBhd2FpdCBlbGsubGF5b3V0KGdyYXBoKTtcbiAgZHJhd05vZGVzKDAsIDAsIGcuY2hpbGRyZW4sIHN2Zywgc3ViR3JhcGhzRWwsIGRpYWdPYmosIDApO1xuICBsb2cuaW5mbyhcImFmdGVyIGxheW91dFwiLCBnKTtcbiAgKF9hID0gZy5lZGdlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hcCgoZWRnZSkgPT4ge1xuICAgIGluc2VydEVkZ2UoZWRnZXNFbCwgZWRnZSwgZWRnZS5lZGdlRGF0YSwgZGlhZ09iaiwgcGFyZW50TG9va3VwRGIpO1xuICB9KTtcbiAgc2V0dXBHcmFwaFZpZXdib3goe30sIHN2ZywgY29uZjIuZGlhZ3JhbVBhZGRpbmcsIGNvbmYyLnVzZU1heFdpZHRoKTtcbiAgcmVuZGVyRWwucmVtb3ZlKCk7XG59O1xuY29uc3QgZHJhd05vZGVzID0gKHJlbFgsIHJlbFksIG5vZGVBcnJheSwgc3ZnLCBzdWJncmFwaHNFbCwgZGlhZ09iaiwgZGVwdGgpID0+IHtcbiAgbm9kZUFycmF5LmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xuICAgIGlmIChub2RlKSB7XG4gICAgICBub2RlRGJbbm9kZS5pZF0ub2Zmc2V0ID0ge1xuICAgICAgICBwb3NYOiBub2RlLnggKyByZWxYLFxuICAgICAgICBwb3NZOiBub2RlLnkgKyByZWxZLFxuICAgICAgICB4OiByZWxYLFxuICAgICAgICB5OiByZWxZLFxuICAgICAgICBkZXB0aCxcbiAgICAgICAgd2lkdGg6IG5vZGUud2lkdGgsXG4gICAgICAgIGhlaWdodDogbm9kZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBpZiAobm9kZS50eXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgY29uc3Qgc3ViZ3JhcGhFbCA9IHN1YmdyYXBoc0VsLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwic3ViZ3JhcGhcIik7XG4gICAgICAgIHN1YmdyYXBoRWwuaW5zZXJ0KFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJzdWJncmFwaCBzdWJncmFwaC1sdmwtXCIgKyBkZXB0aCAlIDUgKyBcIiBub2RlXCIpLmF0dHIoXCJ4XCIsIG5vZGUueCArIHJlbFgpLmF0dHIoXCJ5XCIsIG5vZGUueSArIHJlbFkpLmF0dHIoXCJ3aWR0aFwiLCBub2RlLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsIG5vZGUuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBzdWJncmFwaEVsLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIik7XG4gICAgICAgIGxhYmVsLmF0dHIoXG4gICAgICAgICAgXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICBgdHJhbnNsYXRlKCR7bm9kZS5sYWJlbHNbMF0ueCArIHJlbFggKyBub2RlLnh9LCAke25vZGUubGFiZWxzWzBdLnkgKyByZWxZICsgbm9kZS55fSlgXG4gICAgICAgICk7XG4gICAgICAgIGxhYmVsLm5vZGUoKS5hcHBlbmRDaGlsZChub2RlLmxhYmVsRGF0YS5sYWJlbE5vZGUpO1xuICAgICAgICBsb2cuaW5mbyhcIklkIChVR0gpPSBcIiwgbm9kZS50eXBlLCBub2RlLmxhYmVscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2cuaW5mbyhcIklkIChVR0gpPSBcIiwgbm9kZS5pZCk7XG4gICAgICAgIG5vZGUuZWwuYXR0cihcbiAgICAgICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgIGB0cmFuc2xhdGUoJHtub2RlLnggKyByZWxYICsgbm9kZS53aWR0aCAvIDJ9LCAke25vZGUueSArIHJlbFkgKyBub2RlLmhlaWdodCAvIDJ9KWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBub2RlQXJyYXkuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS50eXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgIGRyYXdOb2RlcyhyZWxYICsgbm9kZS54LCByZWxZICsgbm9kZS55LCBub2RlLmNoaWxkcmVuLCBzdmcsIHN1YmdyYXBoc0VsLCBkaWFnT2JqLCBkZXB0aCArIDEpO1xuICAgIH1cbiAgfSk7XG59O1xuY29uc3QgcmVuZGVyZXIgPSB7XG4gIGdldENsYXNzZXMsXG4gIGRyYXdcbn07XG5jb25zdCBnZW5TZWN0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gIGxldCBzZWN0aW9ucyA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgc2VjdGlvbnMgKz0gYFxuICAgICAgLnN1YmdyYXBoLWx2bC0ke2l9IHtcbiAgICAgICAgZmlsbDogJHtvcHRpb25zW2BzdXJmYWNlJHtpfWBdfTtcbiAgICAgICAgc3Ryb2tlOiAke29wdGlvbnNbYHN1cmZhY2VQZWVyJHtpfWBdfTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG4gIHJldHVybiBzZWN0aW9ucztcbn07XG5jb25zdCBnZXRTdHlsZXMgPSAob3B0aW9ucykgPT4gYC5sYWJlbCB7XG4gICAgZm9udC1mYW1pbHk6ICR7b3B0aW9ucy5mb250RmFtaWx5fTtcbiAgICBjb2xvcjogJHtvcHRpb25zLm5vZGVUZXh0Q29sb3IgfHwgb3B0aW9ucy50ZXh0Q29sb3J9O1xuICB9XG4gIC5jbHVzdGVyLWxhYmVsIHRleHQge1xuICAgIGZpbGw6ICR7b3B0aW9ucy50aXRsZUNvbG9yfTtcbiAgfVxuICAuY2x1c3Rlci1sYWJlbCBzcGFuIHtcbiAgICBjb2xvcjogJHtvcHRpb25zLnRpdGxlQ29sb3J9O1xuICB9XG5cbiAgLmxhYmVsIHRleHQsc3BhbiB7XG4gICAgZmlsbDogJHtvcHRpb25zLm5vZGVUZXh0Q29sb3IgfHwgb3B0aW9ucy50ZXh0Q29sb3J9O1xuICAgIGNvbG9yOiAke29wdGlvbnMubm9kZVRleHRDb2xvciB8fCBvcHRpb25zLnRleHRDb2xvcn07XG4gIH1cblxuICAubm9kZSByZWN0LFxuICAubm9kZSBjaXJjbGUsXG4gIC5ub2RlIGVsbGlwc2UsXG4gIC5ub2RlIHBvbHlnb24sXG4gIC5ub2RlIHBhdGgge1xuICAgIGZpbGw6ICR7b3B0aW9ucy5tYWluQmtnfTtcbiAgICBzdHJva2U6ICR7b3B0aW9ucy5ub2RlQm9yZGVyfTtcbiAgICBzdHJva2Utd2lkdGg6IDFweDtcbiAgfVxuXG4gIC5ub2RlIC5sYWJlbCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4gIC5ub2RlLmNsaWNrYWJsZSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgLmFycm93aGVhZFBhdGgge1xuICAgIGZpbGw6ICR7b3B0aW9ucy5hcnJvd2hlYWRDb2xvcn07XG4gIH1cblxuICAuZWRnZVBhdGggLnBhdGgge1xuICAgIHN0cm9rZTogJHtvcHRpb25zLmxpbmVDb2xvcn07XG4gICAgc3Ryb2tlLXdpZHRoOiAyLjBweDtcbiAgfVxuXG4gIC5mbG93Y2hhcnQtbGluayB7XG4gICAgc3Ryb2tlOiAke29wdGlvbnMubGluZUNvbG9yfTtcbiAgICBmaWxsOiBub25lO1xuICB9XG5cbiAgLmVkZ2VMYWJlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHtvcHRpb25zLmVkZ2VMYWJlbEJhY2tncm91bmR9O1xuICAgIHJlY3Qge1xuICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtvcHRpb25zLmVkZ2VMYWJlbEJhY2tncm91bmR9O1xuICAgICAgZmlsbDogJHtvcHRpb25zLmVkZ2VMYWJlbEJhY2tncm91bmR9O1xuICAgIH1cbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAuY2x1c3RlciByZWN0IHtcbiAgICBmaWxsOiAke29wdGlvbnMuY2x1c3RlckJrZ307XG4gICAgc3Ryb2tlOiAke29wdGlvbnMuY2x1c3RlckJvcmRlcn07XG4gICAgc3Ryb2tlLXdpZHRoOiAxcHg7XG4gIH1cblxuICAuY2x1c3RlciB0ZXh0IHtcbiAgICBmaWxsOiAke29wdGlvbnMudGl0bGVDb2xvcn07XG4gIH1cblxuICAuY2x1c3RlciBzcGFuIHtcbiAgICBjb2xvcjogJHtvcHRpb25zLnRpdGxlQ29sb3J9O1xuICB9XG4gIC8qIC5jbHVzdGVyIGRpdiB7XG4gICAgY29sb3I6ICR7b3B0aW9ucy50aXRsZUNvbG9yfTtcbiAgfSAqL1xuXG4gIGRpdi5tZXJtYWlkVG9vbHRpcCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXgtd2lkdGg6IDIwMHB4O1xuICAgIHBhZGRpbmc6IDJweDtcbiAgICBmb250LWZhbWlseTogJHtvcHRpb25zLmZvbnRGYW1pbHl9O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBiYWNrZ3JvdW5kOiAke29wdGlvbnMudGVydGlhcnlDb2xvcn07XG4gICAgYm9yZGVyOiAxcHggc29saWQgJHtvcHRpb25zLmJvcmRlcjJ9O1xuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB6LWluZGV4OiAxMDA7XG4gIH1cblxuICAuZmxvd2NoYXJ0VGl0bGVUZXh0IHtcbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmaWxsOiAke29wdGlvbnMudGV4dENvbG9yfTtcbiAgfVxuICAuc3ViZ3JhcGgge1xuICAgIHN0cm9rZS13aWR0aDoyO1xuICAgIHJ4OjM7XG4gIH1cbiAgLy8gLnN1YmdyYXBoLWx2bC0xIHtcbiAgLy8gICBmaWxsOiNjY2M7XG4gIC8vICAgLy8gc3Ryb2tlOmJsYWNrO1xuICAvLyB9XG4gICR7Z2VuU2VjdGlvbnMob3B0aW9ucyl9XG5gO1xuY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVzO1xuY29uc3QgZGlhZ3JhbSA9IHtcbiAgZGIsXG4gIHJlbmRlcmVyLFxuICBwYXJzZXIsXG4gIHN0eWxlc1xufTtcbmV4cG9ydCB7XG4gIGRpYWdyYW1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWFncmFtLWRlZmluaXRpb24tZjI0MmFlN2MuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/mermaid/dist/diagram-definition-f242ae7c.js\n");

/***/ })

}]);